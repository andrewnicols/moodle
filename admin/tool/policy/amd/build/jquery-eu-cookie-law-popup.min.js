define ("tool_policy/jquery-eu-cookie-law-popup",["jquery"],function($){if(!window.console)window.console={};if(!window.console.log)window.console.log=function(){};$.fn.euCookieLawPopup=function(){var _self=this;_self.params={cookiePolicyUrl:"/?cookie-policy",popupPosition:"top",colorStyle:"default",compactStyle:!1,popupTitle:"This website is using cookies",popupText:"We use cookies to ensure that we give you the best experience on our website. If you continue without changing your settings, we'll assume that you are happy to receive all cookies on this website.",buttonContinueTitle:"Continue",buttonLearnmoreTitle:"Learn&nbsp;more",buttonLearnmoreOpenInNewWindow:!0,agreementExpiresInDays:30,autoAcceptCookiePolicy:!1,htmlMarkup:null};_self.vars={INITIALISED:!1,HTML_MARKUP:null,COOKIE_NAME:"EU_COOKIE_LAW_CONSENT"};var parseParameters=function(object,markup,settings){if(object){var className=$(object).attr("class")?$(object).attr("class"):"";if(-1<className.indexOf("eupopup-top")){_self.params.popupPosition="top"}else if(-1<className.indexOf("eupopup-fixedtop")){_self.params.popupPosition="fixedtop"}else if(-1<className.indexOf("eupopup-bottomright")){_self.params.popupPosition="bottomright"}else if(-1<className.indexOf("eupopup-bottomleft")){_self.params.popupPosition="bottomleft"}else if(-1<className.indexOf("eupopup-bottom")){_self.params.popupPosition="bottom"}else if(-1<className.indexOf("eupopup-block")){_self.params.popupPosition="block"}if(-1<className.indexOf("eupopup-color-default")){_self.params.colorStyle="default"}else if(-1<className.indexOf("eupopup-color-inverse")){_self.params.colorStyle="inverse"}if(-1<className.indexOf("eupopup-style-compact")){_self.params.compactStyle=!0}}if(markup){_self.params.htmlMarkup=markup}if(settings){if("undefined"!=typeof settings.cookiePolicyUrl){_self.params.cookiePolicyUrl=settings.cookiePolicyUrl}if("undefined"!=typeof settings.popupPosition){_self.params.popupPosition=settings.popupPosition}if("undefined"!=typeof settings.colorStyle){_self.params.colorStyle=settings.colorStyle}if("undefined"!=typeof settings.popupTitle){_self.params.popupTitle=settings.popupTitle}if("undefined"!=typeof settings.popupText){_self.params.popupText=settings.popupText}if("undefined"!=typeof settings.buttonContinueTitle){_self.params.buttonContinueTitle=settings.buttonContinueTitle}if("undefined"!=typeof settings.buttonLearnmoreTitle){_self.params.buttonLearnmoreTitle=settings.buttonLearnmoreTitle}if("undefined"!=typeof settings.buttonLearnmoreOpenInNewWindow){_self.params.buttonLearnmoreOpenInNewWindow=settings.buttonLearnmoreOpenInNewWindow}if("undefined"!=typeof settings.agreementExpiresInDays){_self.params.agreementExpiresInDays=settings.agreementExpiresInDays}if("undefined"!=typeof settings.autoAcceptCookiePolicy){_self.params.autoAcceptCookiePolicy=settings.autoAcceptCookiePolicy}if("undefined"!=typeof settings.htmlMarkup){_self.params.htmlMarkup=settings.htmlMarkup}}},createHtmlMarkup=function(){if(_self.params.htmlMarkup){return _self.params.htmlMarkup}var html="<div class=\"eupopup-container eupopup-container-"+_self.params.popupPosition+(_self.params.compactStyle?" eupopup-style-compact":"")+" eupopup-color-"+_self.params.colorStyle+"\"><div class=\"eupopup-head\">"+_self.params.popupTitle+"</div><div class=\"eupopup-body\">"+_self.params.popupText+"</div><div class=\"eupopup-buttons\"><a href=\"#\" class=\"eupopup-button eupopup-button_1\">"+_self.params.buttonContinueTitle+"</a><a href=\""+_self.params.cookiePolicyUrl+"\""+(_self.params.buttonLearnmoreOpenInNewWindow?" target=_blank ":"")+" class=\"eupopup-button eupopup-button_2\">"+_self.params.buttonLearnmoreTitle+"</a><div class=\"clearfix\"></div></div><a href=\"#\" class=\"eupopup-closebutton\">x</a></div>";return html},setUserAcceptsCookies=function(consent){var d=new Date,expiresInDays=1e3*(60*(60*(24*_self.params.agreementExpiresInDays)));d.setTime(d.getTime()+expiresInDays);var expires="expires="+d.toGMTString();document.cookie=_self.vars.COOKIE_NAME+"="+consent+"; "+expires+";path=/";$(document).trigger("user_cookie_consent_changed",{consent:consent})},userAlreadyAcceptedCookies=function(){for(var userAcceptedCookies=!1,cookies=document.cookie.split(";"),i=0,c;i<cookies.length;i++){c=cookies[i].trim();if(-1!==c.indexOf(_self.vars.COOKIE_NAME)){userAcceptedCookies=c.substring(_self.vars.COOKIE_NAME.length+1,c.length)}}return userAcceptedCookies},hideContainer=function(){$(".eupopup-container").animate({opacity:0,height:0},200,function(){$(".eupopup-container").hide(0)})};return{init:function init(settings){parseParameters($(".eupopup").first(),$(".eupopup-markup").html(),settings);if(userAlreadyAcceptedCookies()){$(document).trigger("user_cookie_already_accepted",{consent:!0});return}if(_self.vars.INITIALISED){return}_self.vars.INITIALISED=!0;_self.vars.HTML_MARKUP=createHtmlMarkup();if(0<$(".eupopup-block").length){$(".eupopup-block").append(_self.vars.HTML_MARKUP)}else{$("BODY").append(_self.vars.HTML_MARKUP)}$(".eupopup-button_1").click(function(){setUserAcceptsCookies(!0);hideContainer();return!1});$(".eupopup-closebutton").click(function(){setUserAcceptsCookies(!0);hideContainer();return!1});$(".eupopup-container").show();if(_self.params.autoAcceptCookiePolicy){setUserAcceptsCookies(!0)}}}}});
//# sourceMappingURL=jquery-eu-cookie-law-popup.min.js.map
