{"version":3,"file":"repository.min.js","sources":["../src/repository.js"],"sourcesContent":["/**\n * Step management code.\n *\n * @module     tool_usertours/managesteps\n * @copyright  2016 Andrew Nicols <andrew@nicols.co.uk>\n */\nimport {fetchOne} from 'core/fetch';\nimport moodleConfig from 'core/config';\n\n/**\n * Reset the tour state of the specified tour.\n *\n * @param {number} tourid\n * @return {Promise}\n */\nexport const resetTourState = (tourid) => fetchOne('tool_usertours_reset_tour', {\n    tourid,\n    context: moodleConfig.contextid,\n    pageurl: window.location.href,\n});\n\n/**\n * Mark the specified tour as complete.\n *\n * @param {number} stepid\n * @param {number} tourid\n * @param {number} stepindex\n * @return {Promise}\n */\nexport const markTourComplete = (stepid, tourid, stepindex) => fetchOne('tool_usertours_complete_tour', {\n    stepid,\n    stepindex: stepindex,\n    tourid,\n    context: moodleConfig.contextid,\n    pageurl: window.location.href,\n});\n\n/**\n * Fetch the specified tour.\n *\n * @param {number} tourid\n * @return {Promise}\n */\nexport const fetchTour = tourid => fetchOne('tool_usertours_fetch_and_start_tour', {\n    tourid,\n    context: moodleConfig.contextid,\n    pageurl: window.location.href,\n});\n\n/**\n * Mark the specified step as having been shown.\n *\n * @param {number} stepid\n * @param {number} tourid\n * @param {number} stepindex\n * @return {Promise}\n */\nexport const markStepShown = (stepid, tourid, stepindex) => fetchOne('tool_usertours_step_shown', {\n    tourid,\n    stepid,\n    stepindex,\n    context: moodleConfig.contextid,\n    pageurl: window.location.href,\n});\n"],"names":["obj","_config","__esModule","default","_exports","resetTourState","tourid","fetchOne","context","moodleConfig","contextid","pageurl","window","location","href","markTourComplete","stepid","stepindex","fetchTour","markStepShown"],"mappings":"6GAOuC,IAAAA,+JAAvCC,SAAuCD,IAAvCC,UAAuCD,IAAAE,WAAAF,IAAAG,CAAAA,QAAAH,KAYpCI,SAAAC,eAJ4BC,SAAW,EAAAC,OAAQA,UAAC,4BAA6B,CAC5ED,cACAE,QAASC,QAAYN,QAACO,UACtBC,QAASC,OAAOC,SAASC,OAiB1BV,SAAAW,iBAN6BA,CAACC,OAAQV,OAAQW,aAAc,EAAAV,OAAQA,UAAC,+BAAgC,CACpGS,cACAC,UAAWA,UACXX,cACAE,QAASC,QAAYN,QAACO,UACtBC,QAASC,OAAOC,SAASC,OAa1BV,SAAAc,UAJsBZ,SAAU,EAAAC,OAAQA,UAAC,sCAAuC,CAC/ED,cACAE,QAASC,QAAYN,QAACO,UACtBC,QAASC,OAAOC,SAASC,OAiB1BV,SAAAe,cAN0BA,CAACH,OAAQV,OAAQW,aAAc,EAAAV,OAAQA,UAAC,4BAA6B,CAC9FD,cACAU,cACAC,oBACAT,QAASC,QAAYN,QAACO,UACtBC,QAASC,OAAOC,SAASC,MAC1B"}