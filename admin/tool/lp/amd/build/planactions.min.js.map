{"version":3,"sources":["../src/planactions.js"],"names":["define","$","templates","ajax","notification","str","Menubar","Dialogue","PlanActions","type","_type","_region","_planNode","_template","_contextMethod","TypeError","prototype","_getContextArgs","planData","self","args","planid","id","userid","refresh","selector","_findPlanData","_callAndRefresh","_renderView","context","render","then","newhtml","newjs","replaceWith","runTemplateJS","calls","callKey","Math","floor","random","M","util","js_pending","push","methodname","when","apply","call","arguments","length","fail","exception","always","js_complete","_doDelete","deletePlan","requests","done","plan","get_strings","key","component","param","name","strings","confirm","_doReopenPlan","reopenPlan","_doCompletePlan","completePlan","_doUnlinkPlan","unlinkPlan","_doRequestReview","requestReview","_doCancelReviewRequest","cancelReviewRequest","_doStartReview","startReview","_doStopReview","stopReview","_doApprove","approve","_doUnapprove","unapprove","_showLinkedCoursesHandler","e","preventDefault","competencyid","target","data","courses","html","get_string","linkedcourses","_eventHandler","method","node","parent","parentsUntil","Error","enhanceMenubar","enhance","bind","registerEvents","wrapper","find","click"],"mappings":"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","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Plan actions via ajax.\n *\n * @module     tool_lp/planactions\n * @copyright  2015 David Monllao\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\ndefine(['jquery',\n        'core/templates',\n        'core/ajax',\n        'core/notification',\n        'core/str',\n        'tool_lp/menubar',\n        'tool_lp/dialogue'],\n        function($, templates, ajax, notification, str, Menubar, Dialogue) {\n\n    /**\n     * PlanActions class.\n     *\n     * Note that presently this cannot be instantiated more than once per page.\n     *\n     * @param {String} type The type of page we're in.\n     */\n    var PlanActions = function(type) {\n        this._type = type;\n\n        if (type === 'plan') {\n            // This is the page to view one plan.\n            this._region = '[data-region=\"plan-page\"]';\n            this._planNode = '[data-region=\"plan-page\"]';\n            this._template = 'tool_lp/plan_page';\n            this._contextMethod = 'tool_lp_data_for_plan_page';\n\n        } else if (type === 'plans') {\n            // This is the page to view a list of plans.\n            this._region = '[data-region=\"plans\"]';\n            this._planNode = '[data-region=\"plan-node\"]';\n            this._template = 'tool_lp/plans_page';\n            this._contextMethod = 'tool_lp_data_for_plans_page';\n\n        } else {\n            throw new TypeError('Unexpected type.');\n        }\n    };\n\n    /** @property {String} Ajax method to fetch the page data from. */\n    PlanActions.prototype._contextMethod = null;\n    /** @property {String} Selector to find the node describing the plan. */\n    PlanActions.prototype._planNode = null;\n    /** @property {String} Selector mapping to the region to update. Usually similar to wrapper. */\n    PlanActions.prototype._region = null;\n    /** @property {String} Name of the template used to render the region. */\n    PlanActions.prototype._template = null;\n    /** @property {String} Type of page/region we're in. */\n    PlanActions.prototype._type = null;\n\n    /**\n     * Resolve the arguments to refresh the region.\n     *\n     * @param  {Object} planData Plan data from plan node.\n     * @return {Object} List of arguments.\n     */\n    PlanActions.prototype._getContextArgs = function(planData) {\n        var self = this,\n            args = {};\n\n        if (self._type === 'plan') {\n            args = {\n                planid: planData.id\n            };\n\n        } else if (self._type === 'plans') {\n            args = {\n                userid: planData.userid\n            };\n        }\n\n        return args;\n    };\n\n    /**\n     * Refresh the plan view.\n     *\n     * This is useful when you only want to refresh the view.\n     *\n     * @param  {String} selector The node to search the plan data from.\n     */\n    PlanActions.prototype.refresh = function(selector) {\n        var planData = this._findPlanData($(selector));\n        this._callAndRefresh([], planData);\n    };\n\n    /**\n     * Callback to render the region template.\n     *\n     * @param {Object} context The context for the template.\n     * @return {Promise}\n     */\n    PlanActions.prototype._renderView = function(context) {\n        var self = this;\n        return templates.render(self._template, context)\n            .then(function(newhtml, newjs) {\n                $(self._region).replaceWith(newhtml);\n                templates.runTemplateJS(newjs);\n                return;\n            });\n    };\n\n    /**\n     * Call multiple ajax methods, and refresh.\n     *\n     * @param  {Array}  calls    List of Ajax calls.\n     * @param  {Object} planData Plan data from plan node.\n     * @return {Promise}\n     */\n    PlanActions.prototype._callAndRefresh = function(calls, planData) {\n        // Because this function causes a refresh, we must track the JS completion from start to finish to prevent\n        // stale reference issues in Behat.\n        var callKey = 'tool_lp/planactions:_callAndRefresh-' + Math.floor(Math.random() * Math.floor(1000));\n        M.util.js_pending(callKey);\n\n        var self = this;\n        calls.push({\n            methodname: self._contextMethod,\n            args: self._getContextArgs(planData)\n        });\n\n        // Apply all the promises, and refresh when the last one is resolved.\n        return $.when.apply($, ajax.call(calls))\n            .then(function() {\n                return self._renderView(arguments[arguments.length - 1]);\n            })\n            .fail(notification.exception)\n            .always(function() {\n                return M.util.js_complete(callKey);\n            });\n    };\n\n    /**\n     * Delete a plan and reload the region.\n     *\n     * @param  {Object} planData Plan data from plan node.\n     */\n    PlanActions.prototype._doDelete = function(planData) {\n        var self = this,\n            calls = [{\n                methodname: 'core_competency_delete_plan',\n                args: {id: planData.id}\n            }];\n        self._callAndRefresh(calls, planData);\n    };\n\n    /**\n     * Delete a plan.\n     *\n     * @param  {Object} planData Plan data from plan node.\n     */\n    PlanActions.prototype.deletePlan = function(planData) {\n        var self = this,\n            requests;\n\n        requests = ajax.call([{\n            methodname: 'core_competency_read_plan',\n            args: {id: planData.id}\n        }]);\n\n        requests[0].done(function(plan) {\n            str.get_strings([\n                {key: 'confirm', component: 'moodle'},\n                {key: 'deleteplan', component: 'tool_lp', param: plan.name},\n                {key: 'delete', component: 'moodle'},\n                {key: 'cancel', component: 'moodle'}\n            ]).done(function(strings) {\n                notification.confirm(\n                    strings[0], // Confirm.\n                    strings[1], // Delete plan X?\n                    strings[2], // Delete.\n                    strings[3], // Cancel.\n                    function() {\n                        self._doDelete(planData);\n                    }\n                );\n            }).fail(notification.exception);\n        }).fail(notification.exception);\n\n    };\n\n    /**\n     * Reopen plan and reload the region.\n     *\n     * @param  {Object} planData Plan data from plan node.\n     */\n    PlanActions.prototype._doReopenPlan = function(planData) {\n        var self = this,\n            calls = [{\n                methodname: 'core_competency_reopen_plan',\n                args: {planid: planData.id}\n            }];\n        self._callAndRefresh(calls, planData);\n    };\n\n    /**\n     * Reopen a plan.\n     *\n     * @param  {Object} planData Plan data from plan node.\n     */\n    PlanActions.prototype.reopenPlan = function(planData) {\n        var self = this,\n            requests = ajax.call([{\n                methodname: 'core_competency_read_plan',\n                args: {id: planData.id}\n            }]);\n\n        requests[0].done(function(plan) {\n            str.get_strings([\n                {key: 'confirm', component: 'moodle'},\n                {key: 'reopenplanconfirm', component: 'tool_lp', param: plan.name},\n                {key: 'reopenplan', component: 'tool_lp'},\n                {key: 'cancel', component: 'moodle'}\n            ]).done(function(strings) {\n                notification.confirm(\n                    strings[0], // Confirm.\n                    strings[1], // Reopen plan X?\n                    strings[2], // Reopen.\n                    strings[3], // Cancel.\n                    function() {\n                        self._doReopenPlan(planData);\n                    }\n                );\n            }).fail(notification.exception);\n        }).fail(notification.exception);\n\n    };\n\n    /**\n     * Complete plan and reload the region.\n     *\n     * @param  {Object} planData Plan data from plan node.\n     */\n    PlanActions.prototype._doCompletePlan = function(planData) {\n        var self = this,\n            calls = [{\n                methodname: 'core_competency_complete_plan',\n                args: {planid: planData.id}\n            }];\n        self._callAndRefresh(calls, planData);\n    };\n\n    /**\n     * Complete a plan process.\n     *\n     * @param  {Object} planData Plan data from plan node.\n     */\n    PlanActions.prototype.completePlan = function(planData) {\n        var self = this,\n            requests = ajax.call([{\n                methodname: 'core_competency_read_plan',\n                args: {id: planData.id}\n            }]);\n\n        requests[0].done(function(plan) {\n            str.get_strings([\n                {key: 'confirm', component: 'moodle'},\n                {key: 'completeplanconfirm', component: 'tool_lp', param: plan.name},\n                {key: 'completeplan', component: 'tool_lp'},\n                {key: 'cancel', component: 'moodle'}\n            ]).done(function(strings) {\n                notification.confirm(\n                    strings[0], // Confirm.\n                    strings[1], // Complete plan X?\n                    strings[2], // Complete.\n                    strings[3], // Cancel.\n                    function() {\n                        self._doCompletePlan(planData);\n                    }\n                );\n            }).fail(notification.exception);\n        }).fail(notification.exception);\n    };\n\n    /**\n     * Unlink plan and reload the region.\n     *\n     * @param  {Object} planData Plan data from plan node.\n     */\n    PlanActions.prototype._doUnlinkPlan = function(planData) {\n        var self = this,\n            calls = [{\n                methodname: 'core_competency_unlink_plan_from_template',\n                args: {planid: planData.id}\n            }];\n        self._callAndRefresh(calls, planData);\n    };\n\n    /**\n     * Unlink a plan process.\n     *\n     * @param  {Object} planData Plan data from plan node.\n     */\n    PlanActions.prototype.unlinkPlan = function(planData) {\n        var self = this,\n            requests = ajax.call([{\n                methodname: 'core_competency_read_plan',\n                args: {id: planData.id}\n            }]);\n\n        requests[0].done(function(plan) {\n            str.get_strings([\n                {key: 'confirm', component: 'moodle'},\n                {key: 'unlinkplantemplateconfirm', component: 'tool_lp', param: plan.name},\n                {key: 'unlinkplantemplate', component: 'tool_lp'},\n                {key: 'cancel', component: 'moodle'}\n            ]).done(function(strings) {\n                notification.confirm(\n                    strings[0], // Confirm.\n                    strings[1], // Unlink plan X?\n                    strings[2], // Unlink.\n                    strings[3], // Cancel.\n                    function() {\n                        self._doUnlinkPlan(planData);\n                    }\n                );\n            }).fail(notification.exception);\n        }).fail(notification.exception);\n    };\n\n    /**\n     * Request review of a plan.\n     *\n     * @param  {Object} planData Plan data from plan node.\n     * @method _doRequestReview\n     */\n    PlanActions.prototype._doRequestReview = function(planData) {\n        var calls = [{\n            methodname: 'core_competency_plan_request_review',\n            args: {\n                id: planData.id\n            }\n        }];\n        this._callAndRefresh(calls, planData);\n    };\n\n    /**\n     * Request review of a plan.\n     *\n     * @param  {Object} planData Plan data from plan node.\n     * @method requestReview\n     */\n    PlanActions.prototype.requestReview = function(planData) {\n        this._doRequestReview(planData);\n    };\n\n    /**\n     * Cancel review request of a plan.\n     *\n     * @param  {Object} planData Plan data from plan node.\n     * @method _doCancelReviewRequest\n     */\n    PlanActions.prototype._doCancelReviewRequest = function(planData) {\n        var calls = [{\n            methodname: 'core_competency_plan_cancel_review_request',\n            args: {\n                id: planData.id\n            }\n        }];\n        this._callAndRefresh(calls, planData);\n    };\n\n    /**\n     * Cancel review request of a plan.\n     *\n     * @param  {Object} planData Plan data from plan node.\n     * @method cancelReviewRequest\n     */\n    PlanActions.prototype.cancelReviewRequest = function(planData) {\n        this._doCancelReviewRequest(planData);\n    };\n\n    /**\n     * Start review of a plan.\n     *\n     * @param  {Object} planData Plan data from plan node.\n     * @method _doStartReview\n     */\n    PlanActions.prototype._doStartReview = function(planData) {\n        var calls = [{\n            methodname: 'core_competency_plan_start_review',\n            args: {\n                id: planData.id\n            }\n        }];\n        this._callAndRefresh(calls, planData);\n    };\n\n    /**\n     * Start review of a plan.\n     *\n     * @param  {Object} planData Plan data from plan node.\n     * @method startReview\n     */\n    PlanActions.prototype.startReview = function(planData) {\n        this._doStartReview(planData);\n    };\n\n    /**\n     * Stop review of a plan.\n     *\n     * @param  {Object} planData Plan data from plan node.\n     * @method _doStopReview\n     */\n    PlanActions.prototype._doStopReview = function(planData) {\n        var calls = [{\n            methodname: 'core_competency_plan_stop_review',\n            args: {\n                id: planData.id\n            }\n        }];\n        this._callAndRefresh(calls, planData);\n    };\n\n    /**\n     * Stop review of a plan.\n     *\n     * @param  {Object} planData Plan data from plan node.\n     * @method stopReview\n     */\n    PlanActions.prototype.stopReview = function(planData) {\n        this._doStopReview(planData);\n    };\n\n    /**\n     * Approve a plan.\n     *\n     * @param  {Object} planData Plan data from plan node.\n     * @method _doApprove\n     */\n    PlanActions.prototype._doApprove = function(planData) {\n        var calls = [{\n            methodname: 'core_competency_approve_plan',\n            args: {\n                id: planData.id\n            }\n        }];\n        this._callAndRefresh(calls, planData);\n    };\n\n    /**\n     * Approve a plan.\n     *\n     * @param  {Object} planData Plan data from plan node.\n     * @method approve\n     */\n    PlanActions.prototype.approve = function(planData) {\n        this._doApprove(planData);\n    };\n\n    /**\n     * Unapprove a plan.\n     *\n     * @param  {Object} planData Plan data from plan node.\n     * @method _doUnapprove\n     */\n    PlanActions.prototype._doUnapprove = function(planData) {\n        var calls = [{\n            methodname: 'core_competency_unapprove_plan',\n            args: {\n                id: planData.id\n            }\n        }];\n        this._callAndRefresh(calls, planData);\n    };\n\n    /**\n     * Unapprove a plan.\n     *\n     * @param  {Object} planData Plan data from plan node.\n     * @method unapprove\n     */\n    PlanActions.prototype.unapprove = function(planData) {\n        this._doUnapprove(planData);\n    };\n\n    /**\n     * Display list of linked courses on a modal dialogue.\n     *\n     * @param  {Event} e The event.\n     */\n    PlanActions.prototype._showLinkedCoursesHandler = function(e) {\n        e.preventDefault();\n\n        var competencyid = $(e.target).data('id');\n        var requests = ajax.call([{\n            methodname: 'tool_lp_list_courses_using_competency',\n            args: {id: competencyid}\n        }]);\n\n        requests[0].done(function(courses) {\n            var context = {\n                courses: courses\n            };\n            templates.render('tool_lp/linked_courses_summary', context).done(function(html) {\n                str.get_string('linkedcourses', 'tool_lp').done(function(linkedcourses) {\n                    new Dialogue(\n                        linkedcourses, // Title.\n                        html // The linked courses.\n                    );\n                }).fail(notification.exception);\n            }).fail(notification.exception);\n        }).fail(notification.exception);\n    };\n\n    /**\n     * Plan event handler.\n     *\n     * @param  {String} method The method to call.\n     * @param  {Event} e The event.\n     * @method _eventHandler\n     */\n    PlanActions.prototype._eventHandler = function(method, e) {\n        e.preventDefault();\n        var data = this._findPlanData($(e.target));\n        this[method](data);\n    };\n\n    /**\n     * Find the plan data from the plan node.\n     *\n     * @param  {Node} node The node to search from.\n     * @return {Object} Plan data.\n     */\n    PlanActions.prototype._findPlanData = function(node) {\n        var parent = node.parentsUntil($(this._region).parent(), this._planNode),\n            data;\n\n        if (parent.length != 1) {\n            throw new Error('The plan node was not located.');\n        }\n\n        data = parent.data();\n        if (typeof data === 'undefined' || typeof data.id === 'undefined') {\n            throw new Error('Plan data could not be found.');\n        }\n\n        return data;\n    };\n\n    /**\n     * Enhance a menu bar.\n     *\n     * @param  {String} selector Menubar selector.\n     */\n    PlanActions.prototype.enhanceMenubar = function(selector) {\n        Menubar.enhance(selector, {\n            '[data-action=\"plan-delete\"]': this._eventHandler.bind(this, 'deletePlan'),\n            '[data-action=\"plan-complete\"]': this._eventHandler.bind(this, 'completePlan'),\n            '[data-action=\"plan-reopen\"]': this._eventHandler.bind(this, 'reopenPlan'),\n            '[data-action=\"plan-unlink\"]': this._eventHandler.bind(this, 'unlinkPlan'),\n            '[data-action=\"plan-request-review\"]': this._eventHandler.bind(this, 'requestReview'),\n            '[data-action=\"plan-cancel-review-request\"]': this._eventHandler.bind(this, 'cancelReviewRequest'),\n            '[data-action=\"plan-start-review\"]': this._eventHandler.bind(this, 'startReview'),\n            '[data-action=\"plan-stop-review\"]': this._eventHandler.bind(this, 'stopReview'),\n            '[data-action=\"plan-approve\"]': this._eventHandler.bind(this, 'approve'),\n            '[data-action=\"plan-unapprove\"]': this._eventHandler.bind(this, 'unapprove'),\n        });\n    };\n\n    /**\n     * Register the events in the region.\n     *\n     * At this stage this cannot be used with enhanceMenubar or multiple handlers\n     * will be added to the same node.\n     */\n    PlanActions.prototype.registerEvents = function() {\n        var wrapper = $(this._region);\n\n        wrapper.find('[data-action=\"plan-delete\"]').click(this._eventHandler.bind(this, 'deletePlan'));\n        wrapper.find('[data-action=\"plan-complete\"]').click(this._eventHandler.bind(this, 'completePlan'));\n        wrapper.find('[data-action=\"plan-reopen\"]').click(this._eventHandler.bind(this, 'reopenPlan'));\n        wrapper.find('[data-action=\"plan-unlink\"]').click(this._eventHandler.bind(this, 'unlinkPlan'));\n\n        wrapper.find('[data-action=\"plan-request-review\"]').click(this._eventHandler.bind(this, 'requestReview'));\n        wrapper.find('[data-action=\"plan-cancel-review-request\"]').click(this._eventHandler.bind(this, 'cancelReviewRequest'));\n        wrapper.find('[data-action=\"plan-start-review\"]').click(this._eventHandler.bind(this, 'startReview'));\n        wrapper.find('[data-action=\"plan-stop-review\"]').click(this._eventHandler.bind(this, 'stopReview'));\n        wrapper.find('[data-action=\"plan-approve\"]').click(this._eventHandler.bind(this, 'approve'));\n        wrapper.find('[data-action=\"plan-unapprove\"]').click(this._eventHandler.bind(this, 'unapprove'));\n\n        wrapper.find('[data-action=\"find-courses-link\"]').click(this._showLinkedCoursesHandler.bind(this));\n    };\n\n    return PlanActions;\n});\n"],"file":"planactions.min.js"}