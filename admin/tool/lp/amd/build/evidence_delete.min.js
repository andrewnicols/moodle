define ("tool_lp/evidence_delete",["jquery","core/notification","core/ajax","core/str","core/log"],function($,Notification,Ajax,Str,Log){var selectors={};return{register:function register(triggerSelector,containerSelector){if("undefined"!=typeof selectors[triggerSelector]){return}selectors[triggerSelector]=$("body").delegate(triggerSelector,"click",function(e){var parent=$(e.currentTarget).parents(containerSelector);if(!parent.length||1<parent.length){Log.error("None or too many evidence container were found.");return}var evidenceId=parent.data("id");if(!evidenceId){Log.error("Evidence ID was not found.");return}e.preventDefault();e.stopPropagation();Str.get_strings([{key:"confirm",component:"moodle"},{key:"areyousure",component:"moodle"},{key:"delete",component:"moodle"},{key:"cancel",component:"moodle"}]).done(function(strings){Notification.confirm(strings[0],strings[1],strings[2],strings[3],function(){var promise=Ajax.call([{methodname:"core_competency_delete_evidence",args:{id:evidenceId}}]);promise[0].then(function(){parent.remove()}).fail(Notification.exception)})}).fail(Notification.exception)})}}});
//# sourceMappingURL=evidence_delete.min.js.map
