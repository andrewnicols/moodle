define ("theme_boost/form-display-errors",["jquery","core_form/events"],function($,FormEvent){return{enhance:function enhance(elementid){var element=document.getElementById(elementid);if(!element){return}element.addEventListener(FormEvent.eventTypes.formFieldValidationFailed,function(e){var msg=e.detail.message;e.preventDefault();var parent=$(element).closest(".form-group"),feedback=parent.find(".form-control-feedback"),feedbackId=feedback.attr("id"),describedBy=$(element).attr("aria-describedby");if("undefined"==typeof describedBy){describedBy=""}var describedByIds=[];if(describedBy.length){describedByIds=describedBy.split(" ")}var feedbackIndex=describedByIds.indexOf(feedbackId);if("TEXTAREA"==$(element).prop("tagName")&&parent.find("[contenteditable]")){element=parent.find("[contenteditable]")}if(""!==msg){parent.addClass("has-danger");parent.data("client-validation-error",!0);$(element).addClass("is-invalid");if(-1===feedbackIndex){describedByIds.push(feedbackId);$(element).attr("aria-describedby",describedByIds.join(" "))}$(element).attr("aria-invalid",!0);feedback.attr("tabindex",0);feedback.html(msg);if(!feedback.is(":visible")){feedback.show();feedback.focus()}}else{if(!0===parent.data("client-validation-error")){parent.removeClass("has-danger");parent.data("client-validation-error",!1);$(element).removeClass("is-invalid");if(-1<feedbackIndex){describedByIds.splice(feedbackIndex,1)}if(describedByIds.length){describedBy=describedByIds.join(" ");$(element).attr("aria-describedby",describedBy)}else{$(element).removeAttr("aria-describedby")}$(element).attr("aria-invalid",!1);feedback.hide()}}});var form=element.closest("form");if(form&&!("boostFormErrorsEnhanced"in form.dataset)){form.addEventListener("submit",function(){var visibleError=$(".form-control-feedback:visible");if(visibleError.length){visibleError[0].focus()}});form.dataset.boostFormErrorsEnhanced=1}}}});
//# sourceMappingURL=form-display-errors.min.js.map
