{"version":3,"sources":["../src/login.js"],"names":["init","registerEventListeners","document","addEventListener","e","target","closest","key","component","then","strings","cookieModalBuilder","fail","Notification","exception","titleStr","bodyStr","ModalFactory","create","type","types","DEFAULT","title","body","modal","show"],"mappings":"6dAuBA,OAEA,O,q2BAOO,GAAMA,CAAAA,CAAI,4CAAG,8FAChBC,CAAsB,GADN,wCAAH,uDAAV,C,YASDA,CAAAA,CAAsB,CAAG,UAAM,CACjCC,QAAQ,CAACC,gBAAT,CAA0B,OAA1B,CAAmC,SAACC,CAAD,CAAO,CACtC,GAAIA,CAAC,CAACC,MAAF,CAASC,OAAT,CAAiB,gCAAjB,CAAJ,CAAsD,CAElD,kBAAW,CACP,CAACC,GAAG,CAAE,gBAAN,CAAwBC,SAAS,CAAE,MAAnC,CADO,CAEP,CAACD,GAAG,CAAE,0BAAN,CAAkCC,SAAS,CAAE,MAA7C,CAFO,CAAX,EAGGC,IAHH,CAGQ,SAASC,CAAT,CAAkB,CACtBC,CAAkB,CAACD,CAAO,CAAC,CAAD,CAAR,CAAaA,CAAO,CAAC,CAAD,CAApB,CACrB,CALD,EAKGE,IALH,CAKQC,CAAY,CAACC,SALrB,CAMH,CACJ,CAVD,CAWH,C,CASKH,CAAkB,CAAG,SAACI,CAAD,CAAWC,CAAX,CAAuB,CAC9CC,CAAY,CAACC,MAAb,CAAoB,CAChBC,IAAI,CAAEF,CAAY,CAACG,KAAb,CAAmBC,OADT,CAEhBC,KAAK,CAAEP,CAFS,CAGhBQ,IAAI,CAAEP,CAHU,CAApB,EAIGP,IAJH,CAIQ,SAAAe,CAAK,CAAI,CACbA,CAAK,CAACC,IAAN,GACA,MAAOD,CAAAA,CACV,CAPD,EAOGZ,IAPH,CAOQC,CAAY,CAACC,SAPrB,CAQH,C","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Javascript run on the login page.\n *\n * @module     theme_boost/login\n * @copyright  2021 Mathew May <mathew.solutions>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\nimport * as ModalFactory from 'core/modal_factory';\nimport {get_strings as getStrings} from 'core/str';\nimport * as Notification from 'core/notification';\n\n/**\n * Set up the login page js.\n *\n * @method init\n */\nexport const init = async() => {\n    registerEventListeners();\n};\n\n/**\n * Listen to the page for click events of interest.\n *\n * @method registerEventListeners\n */\nconst registerEventListeners = () => {\n    document.addEventListener('click', (e) => {\n        if (e.target.closest('[data-toggle=\"cookie-modal\"]')) {\n            // Fetch the strings for the cookie modal.\n            getStrings([\n                {key: 'cookiesenabled', component: 'core'},\n                {key: 'cookiesenabled_help_html', component: 'core'},\n            ]).then(function(strings) {\n                cookieModalBuilder(strings[0], strings[1]);\n            }).fail(Notification.exception);\n        }\n    });\n};\n\n/**\n * Given we have to show the cookie notice, build the modal.\n *\n * @method init\n * @param {String} titleStr String title of the modal\n * @param {String} bodyStr String body of the modal\n */\nconst cookieModalBuilder = (titleStr, bodyStr) => {\n    ModalFactory.create({\n        type: ModalFactory.types.DEFAULT,\n        title: titleStr,\n        body: bodyStr,\n    }).then(modal => {\n        modal.show();\n        return modal;\n    }).fail(Notification.exception);\n};\n"],"file":"login.min.js"}