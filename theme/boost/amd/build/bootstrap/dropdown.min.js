define ("theme_boost/bootstrap/dropdown",["exports","jquery","core/popper","./util"],function(_exports,_jquery,_popper,_util){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0});_exports.default=void 0;_jquery=_interopRequireDefault(_jquery);_popper=_interopRequireDefault(_popper);_util=_interopRequireDefault(_util);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1,source;i<arguments.length;i++){source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0})}else{obj[key]=value}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0,descriptor;i<props.length;i++){descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value"in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);Object.defineProperty(Constructor,"prototype",{writable:!1});return Constructor}var DATA_KEY="bs.dropdown",EVENT_KEY=".".concat(DATA_KEY),DATA_API_KEY=".data-api",JQUERY_NO_CONFLICT=_jquery.default.fn.dropdown,ESCAPE_KEYCODE=27,SPACE_KEYCODE=32,TAB_KEYCODE=9,ARROW_UP_KEYCODE=38,ARROW_DOWN_KEYCODE=40,REGEXP_KEYDOWN=new RegExp("".concat(ARROW_UP_KEYCODE,"|").concat(ARROW_DOWN_KEYCODE,"|").concat(ESCAPE_KEYCODE)),EVENT_HIDE="hide".concat(EVENT_KEY),EVENT_HIDDEN="hidden".concat(EVENT_KEY),EVENT_SHOW="show".concat(EVENT_KEY),EVENT_SHOWN="shown".concat(EVENT_KEY),EVENT_CLICK="click".concat(EVENT_KEY),EVENT_CLICK_DATA_API="click".concat(EVENT_KEY).concat(DATA_API_KEY),EVENT_KEYDOWN_DATA_API="keydown".concat(EVENT_KEY).concat(DATA_API_KEY),EVENT_KEYUP_DATA_API="keyup".concat(EVENT_KEY).concat(DATA_API_KEY),CLASS_NAME_DISABLED="disabled",CLASS_NAME_SHOW="show",CLASS_NAME_MENURIGHT="dropdown-menu-right",SELECTOR_DATA_TOGGLE="[data-toggle=\"dropdown\"]",SELECTOR_MENU=".dropdown-menu",Default={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic",popperConfig:null},DefaultType={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string",popperConfig:"(null|object)"},Dropdown=function(){function Dropdown(element,config){_classCallCheck(this,Dropdown);this._element=element;this._popper=null;this._config=this._getConfig(config);this._menu=this._getMenuElement();this._inNavbar=this._detectNavbar();this._addEventListeners()}_createClass(Dropdown,[{key:"toggle",value:function toggle(){if(this._element.disabled||(0,_jquery.default)(this._element).hasClass(CLASS_NAME_DISABLED)){return}var isActive=(0,_jquery.default)(this._menu).hasClass(CLASS_NAME_SHOW);Dropdown._clearMenus();if(isActive){return}this.show(!0)}},{key:"show",value:function show(){var usePopper=0<arguments.length&&arguments[0]!==void 0?arguments[0]:!1;if(this._element.disabled||(0,_jquery.default)(this._element).hasClass(CLASS_NAME_DISABLED)||(0,_jquery.default)(this._menu).hasClass(CLASS_NAME_SHOW)){return}var relatedTarget={relatedTarget:this._element},showEvent=_jquery.default.Event(EVENT_SHOW,relatedTarget),parent=Dropdown._getParentFromElement(this._element);(0,_jquery.default)(parent).trigger(showEvent);if(showEvent.isDefaultPrevented()){return}if(!this._inNavbar&&usePopper){if("undefined"==typeof _popper.default){throw new TypeError("Bootstrap's dropdowns require Popper.js (https://popper.js.org/)")}var referenceElement=this._element;if("parent"===this._config.reference){referenceElement=parent}else if(_util.default.isElement(this._config.reference)){referenceElement=this._config.reference;if("undefined"!=typeof this._config.reference.jquery){referenceElement=this._config.reference[0]}}if("scrollParent"!==this._config.boundary){(0,_jquery.default)(parent).addClass("position-static")}this._popper=new _popper.default(referenceElement,this._menu,this._getPopperConfig())}if("ontouchstart"in document.documentElement&&0===(0,_jquery.default)(parent).closest(".navbar-nav").length){(0,_jquery.default)(document.body).children().on("mouseover",null,_jquery.default.noop)}this._element.focus();this._element.setAttribute("aria-expanded",!0);(0,_jquery.default)(this._menu).toggleClass(CLASS_NAME_SHOW);(0,_jquery.default)(parent).toggleClass(CLASS_NAME_SHOW).trigger(_jquery.default.Event(EVENT_SHOWN,relatedTarget))}},{key:"hide",value:function hide(){if(this._element.disabled||(0,_jquery.default)(this._element).hasClass(CLASS_NAME_DISABLED)||!(0,_jquery.default)(this._menu).hasClass(CLASS_NAME_SHOW)){return}var relatedTarget={relatedTarget:this._element},hideEvent=_jquery.default.Event(EVENT_HIDE,relatedTarget),parent=Dropdown._getParentFromElement(this._element);(0,_jquery.default)(parent).trigger(hideEvent);if(hideEvent.isDefaultPrevented()){return}if(this._popper){this._popper.destroy()}(0,_jquery.default)(this._menu).toggleClass(CLASS_NAME_SHOW);(0,_jquery.default)(parent).toggleClass(CLASS_NAME_SHOW).trigger(_jquery.default.Event(EVENT_HIDDEN,relatedTarget))}},{key:"dispose",value:function dispose(){_jquery.default.removeData(this._element,DATA_KEY);(0,_jquery.default)(this._element).off(EVENT_KEY);this._element=null;this._menu=null;if(null!==this._popper){this._popper.destroy();this._popper=null}}},{key:"update",value:function update(){this._inNavbar=this._detectNavbar();if(null!==this._popper){this._popper.scheduleUpdate()}}},{key:"_addEventListeners",value:function _addEventListeners(){var _this=this;(0,_jquery.default)(this._element).on(EVENT_CLICK,function(event){event.preventDefault();event.stopPropagation();_this.toggle()})}},{key:"_getConfig",value:function _getConfig(config){config=_objectSpread(_objectSpread(_objectSpread({},this.constructor.Default),(0,_jquery.default)(this._element).data()),config);_util.default.typeCheckConfig("dropdown",config,this.constructor.DefaultType);return config}},{key:"_getMenuElement",value:function _getMenuElement(){if(!this._menu){var parent=Dropdown._getParentFromElement(this._element);if(parent){this._menu=parent.querySelector(SELECTOR_MENU)}}return this._menu}},{key:"_getPlacement",value:function _getPlacement(){var $parentDropdown=(0,_jquery.default)(this._element.parentNode),placement="bottom-start";if($parentDropdown.hasClass("dropup")){placement=(0,_jquery.default)(this._menu).hasClass(CLASS_NAME_MENURIGHT)?"top-end":"top-start"}else if($parentDropdown.hasClass("dropright")){placement="right-start"}else if($parentDropdown.hasClass("dropleft")){placement="left-start"}else if((0,_jquery.default)(this._menu).hasClass(CLASS_NAME_MENURIGHT)){placement="bottom-end"}return placement}},{key:"_detectNavbar",value:function _detectNavbar(){return 0<(0,_jquery.default)(this._element).closest(".navbar").length}},{key:"_getOffset",value:function _getOffset(){var _this2=this,offset={};if("function"==typeof this._config.offset){offset.fn=function(data){data.offsets=_objectSpread(_objectSpread({},data.offsets),_this2._config.offset(data.offsets,_this2._element)||{});return data}}else{offset.offset=this._config.offset}return offset}},{key:"_getPopperConfig",value:function _getPopperConfig(){var popperConfig={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};if("static"===this._config.display){popperConfig.modifiers.applyStyle={enabled:!1}}return _objectSpread(_objectSpread({},popperConfig),this._config.popperConfig)}}],[{key:"VERSION",get:function get(){return"4.5.0"}},{key:"Default",get:function get(){return Default}},{key:"DefaultType",get:function get(){return DefaultType}},{key:"_jQueryInterface",value:function _jQueryInterface(config){return this.each(function(){var data=(0,_jquery.default)(this).data(DATA_KEY),_config="object"===_typeof(config)?config:null;if(!data){data=new Dropdown(this,_config);(0,_jquery.default)(this).data(DATA_KEY,data)}if("string"==typeof config){if("undefined"==typeof data[config]){throw new TypeError("No method named \"".concat(config,"\""))}data[config]()}})}},{key:"_clearMenus",value:function _clearMenus(event){if(event&&(event.which===3||"keyup"===event.type&&event.which!==TAB_KEYCODE)){return}for(var toggles=[].slice.call(document.querySelectorAll(SELECTOR_DATA_TOGGLE)),i=0,len=toggles.length;i<len;i++){var parent=Dropdown._getParentFromElement(toggles[i]),context=(0,_jquery.default)(toggles[i]).data(DATA_KEY),relatedTarget={relatedTarget:toggles[i]};if(event&&"click"===event.type){relatedTarget.clickEvent=event}if(!context){continue}var dropdownMenu=context._menu;if(!(0,_jquery.default)(parent).hasClass(CLASS_NAME_SHOW)){continue}if(event&&("click"===event.type&&/input|textarea/i.test(event.target.tagName)||"keyup"===event.type&&event.which===TAB_KEYCODE)&&_jquery.default.contains(parent,event.target)){continue}var hideEvent=_jquery.default.Event(EVENT_HIDE,relatedTarget);(0,_jquery.default)(parent).trigger(hideEvent);if(hideEvent.isDefaultPrevented()){continue}if("ontouchstart"in document.documentElement){(0,_jquery.default)(document.body).children().off("mouseover",null,_jquery.default.noop)}toggles[i].setAttribute("aria-expanded","false");if(context._popper){context._popper.destroy()}(0,_jquery.default)(dropdownMenu).removeClass(CLASS_NAME_SHOW);(0,_jquery.default)(parent).removeClass(CLASS_NAME_SHOW).trigger(_jquery.default.Event(EVENT_HIDDEN,relatedTarget))}}},{key:"_getParentFromElement",value:function _getParentFromElement(element){var parent,selector=_util.default.getSelectorFromElement(element);if(selector){parent=document.querySelector(selector)}return parent||element.parentNode}},{key:"_dataApiKeydownHandler",value:function _dataApiKeydownHandler(event){if(/input|textarea/i.test(event.target.tagName)?event.which===SPACE_KEYCODE||event.which!==ESCAPE_KEYCODE&&(event.which!==ARROW_DOWN_KEYCODE&&event.which!==ARROW_UP_KEYCODE||(0,_jquery.default)(event.target).closest(SELECTOR_MENU).length):!REGEXP_KEYDOWN.test(event.which)){return}if(this.disabled||(0,_jquery.default)(this).hasClass(CLASS_NAME_DISABLED)){return}var parent=Dropdown._getParentFromElement(this),isActive=(0,_jquery.default)(parent).hasClass(CLASS_NAME_SHOW);if(!isActive&&event.which===ESCAPE_KEYCODE){return}event.preventDefault();event.stopPropagation();if(!isActive||isActive&&(event.which===ESCAPE_KEYCODE||event.which===SPACE_KEYCODE)){if(event.which===ESCAPE_KEYCODE){(0,_jquery.default)(parent.querySelector(SELECTOR_DATA_TOGGLE)).trigger("focus")}(0,_jquery.default)(this).trigger("click");return}var items=[].slice.call(parent.querySelectorAll(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)")).filter(function(item){return(0,_jquery.default)(item).is(":visible")});if(0===items.length){return}var index=items.indexOf(event.target);if(event.which===ARROW_UP_KEYCODE&&0<index){index--}if(event.which===ARROW_DOWN_KEYCODE&&index<items.length-1){index++}if(0>index){index=0}items[index].focus()}}]);return Dropdown}();(0,_jquery.default)(document).on(EVENT_KEYDOWN_DATA_API,SELECTOR_DATA_TOGGLE,Dropdown._dataApiKeydownHandler).on(EVENT_KEYDOWN_DATA_API,SELECTOR_MENU,Dropdown._dataApiKeydownHandler).on("".concat(EVENT_CLICK_DATA_API," ").concat(EVENT_KEYUP_DATA_API),Dropdown._clearMenus).on(EVENT_CLICK_DATA_API,SELECTOR_DATA_TOGGLE,function(event){event.preventDefault();event.stopPropagation();Dropdown._jQueryInterface.call((0,_jquery.default)(this),"toggle")}).on(EVENT_CLICK_DATA_API,".dropdown form",function(e){e.stopPropagation()});_jquery.default.fn.dropdown=Dropdown._jQueryInterface;_jquery.default.fn.dropdown.Constructor=Dropdown;_jquery.default.fn.dropdown.noConflict=function(){_jquery.default.fn.dropdown=JQUERY_NO_CONFLICT;return Dropdown._jQueryInterface};_exports.default=Dropdown;return _exports.default});
//# sourceMappingURL=dropdown.min.js.map
