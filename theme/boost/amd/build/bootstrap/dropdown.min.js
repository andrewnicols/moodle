define ("theme_boost/bootstrap/dropdown",["exports","jquery","core/popper","./util"],function(_exports,_jquery,_popper,_util){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0});_exports.default=void 0;_jquery=_interopRequireDefault(_jquery);_popper=_interopRequireDefault(_popper);_util=_interopRequireDefault(_util);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}const NAME="dropdown",DATA_KEY="bs.dropdown",EVENT_KEY=".".concat(DATA_KEY),DATA_API_KEY=".data-api",JQUERY_NO_CONFLICT=_jquery.default.fn[NAME],ESCAPE_KEYCODE=27,SPACE_KEYCODE=32,TAB_KEYCODE=9,ARROW_UP_KEYCODE=38,ARROW_DOWN_KEYCODE=40,REGEXP_KEYDOWN=new RegExp("".concat(ARROW_UP_KEYCODE,"|").concat(ARROW_DOWN_KEYCODE,"|").concat(ESCAPE_KEYCODE)),EVENT_HIDE="hide".concat(EVENT_KEY),EVENT_HIDDEN="hidden".concat(EVENT_KEY),EVENT_SHOW="show".concat(EVENT_KEY),EVENT_SHOWN="shown".concat(EVENT_KEY),EVENT_CLICK="click".concat(EVENT_KEY),EVENT_CLICK_DATA_API="click".concat(EVENT_KEY).concat(DATA_API_KEY),EVENT_KEYDOWN_DATA_API="keydown".concat(EVENT_KEY).concat(DATA_API_KEY),EVENT_KEYUP_DATA_API="keyup".concat(EVENT_KEY).concat(DATA_API_KEY),CLASS_NAME_DISABLED="disabled",CLASS_NAME_SHOW="show",CLASS_NAME_MENURIGHT="dropdown-menu-right",SELECTOR_DATA_TOGGLE="[data-toggle=\"dropdown\"]",SELECTOR_MENU=".dropdown-menu",Default={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic",popperConfig:null},DefaultType={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string",popperConfig:"(null|object)"};class Dropdown{constructor(element,config){this._element=element;this._popper=null;this._config=this._getConfig(config);this._menu=this._getMenuElement();this._inNavbar=this._detectNavbar();this._addEventListeners()}static get VERSION(){return"4.6.0"}static get Default(){return Default}static get DefaultType(){return DefaultType}toggle(){if(this._element.disabled||(0,_jquery.default)(this._element).hasClass(CLASS_NAME_DISABLED)){return}const isActive=(0,_jquery.default)(this._menu).hasClass(CLASS_NAME_SHOW);Dropdown._clearMenus();if(isActive){return}this.show(!0)}show(){let usePopper=0<arguments.length&&arguments[0]!==void 0?arguments[0]:!1;if(this._element.disabled||(0,_jquery.default)(this._element).hasClass(CLASS_NAME_DISABLED)||(0,_jquery.default)(this._menu).hasClass(CLASS_NAME_SHOW)){return}const relatedTarget={relatedTarget:this._element},showEvent=_jquery.default.Event(EVENT_SHOW,relatedTarget),parent=Dropdown._getParentFromElement(this._element);(0,_jquery.default)(parent).trigger(showEvent);if(showEvent.isDefaultPrevented()){return}if(!this._inNavbar&&usePopper){if("undefined"==typeof _popper.default){throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)")}let referenceElement=this._element;if("parent"===this._config.reference){referenceElement=parent}else if(_util.default.isElement(this._config.reference)){referenceElement=this._config.reference;if("undefined"!=typeof this._config.reference.jquery){referenceElement=this._config.reference[0]}}if("scrollParent"!==this._config.boundary){(0,_jquery.default)(parent).addClass("position-static")}this._popper=new _popper.default(referenceElement,this._menu,this._getPopperConfig())}if("ontouchstart"in document.documentElement&&0===(0,_jquery.default)(parent).closest(".navbar-nav").length){(0,_jquery.default)(document.body).children().on("mouseover",null,_jquery.default.noop)}this._element.focus();this._element.setAttribute("aria-expanded",!0);(0,_jquery.default)(this._menu).toggleClass(CLASS_NAME_SHOW);(0,_jquery.default)(parent).toggleClass(CLASS_NAME_SHOW).trigger(_jquery.default.Event(EVENT_SHOWN,relatedTarget))}hide(){if(this._element.disabled||(0,_jquery.default)(this._element).hasClass(CLASS_NAME_DISABLED)||!(0,_jquery.default)(this._menu).hasClass(CLASS_NAME_SHOW)){return}const relatedTarget={relatedTarget:this._element},hideEvent=_jquery.default.Event(EVENT_HIDE,relatedTarget),parent=Dropdown._getParentFromElement(this._element);(0,_jquery.default)(parent).trigger(hideEvent);if(hideEvent.isDefaultPrevented()){return}if(this._popper){this._popper.destroy()}(0,_jquery.default)(this._menu).toggleClass(CLASS_NAME_SHOW);(0,_jquery.default)(parent).toggleClass(CLASS_NAME_SHOW).trigger(_jquery.default.Event(EVENT_HIDDEN,relatedTarget))}dispose(){_jquery.default.removeData(this._element,DATA_KEY);(0,_jquery.default)(this._element).off(EVENT_KEY);this._element=null;this._menu=null;if(null!==this._popper){this._popper.destroy();this._popper=null}}update(){this._inNavbar=this._detectNavbar();if(null!==this._popper){this._popper.scheduleUpdate()}}_addEventListeners(){(0,_jquery.default)(this._element).on(EVENT_CLICK,event=>{event.preventDefault();event.stopPropagation();this.toggle()})}_getConfig(config){config={...this.constructor.Default,...(0,_jquery.default)(this._element).data(),...config};_util.default.typeCheckConfig(NAME,config,this.constructor.DefaultType);return config}_getMenuElement(){if(!this._menu){const parent=Dropdown._getParentFromElement(this._element);if(parent){this._menu=parent.querySelector(SELECTOR_MENU)}}return this._menu}_getPlacement(){const $parentDropdown=(0,_jquery.default)(this._element.parentNode);let placement="bottom-start";if($parentDropdown.hasClass("dropup")){placement=(0,_jquery.default)(this._menu).hasClass(CLASS_NAME_MENURIGHT)?"top-end":"top-start"}else if($parentDropdown.hasClass("dropright")){placement="right-start"}else if($parentDropdown.hasClass("dropleft")){placement="left-start"}else if((0,_jquery.default)(this._menu).hasClass(CLASS_NAME_MENURIGHT)){placement="bottom-end"}return placement}_detectNavbar(){return 0<(0,_jquery.default)(this._element).closest(".navbar").length}_getOffset(){const offset={};if("function"==typeof this._config.offset){offset.fn=data=>{data.offsets={...data.offsets,...(this._config.offset(data.offsets,this._element)||{})};return data}}else{offset.offset=this._config.offset}return offset}_getPopperConfig(){const popperConfig={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};if("static"===this._config.display){popperConfig.modifiers.applyStyle={enabled:!1}}return{...popperConfig,...this._config.popperConfig}}static _jQueryInterface(config){return this.each(function(){let data=(0,_jquery.default)(this).data(DATA_KEY);const _config="object"==typeof config?config:null;if(!data){data=new Dropdown(this,_config);(0,_jquery.default)(this).data(DATA_KEY,data)}if("string"==typeof config){if("undefined"==typeof data[config]){throw new TypeError("No method named \"".concat(config,"\""))}data[config]()}})}static _clearMenus(event){if(event&&(event.which===3||"keyup"===event.type&&event.which!==TAB_KEYCODE)){return}const toggles=[].slice.call(document.querySelectorAll(SELECTOR_DATA_TOGGLE));for(let i=0,len=toggles.length;i<len;i++){const parent=Dropdown._getParentFromElement(toggles[i]),context=(0,_jquery.default)(toggles[i]).data(DATA_KEY),relatedTarget={relatedTarget:toggles[i]};if(event&&"click"===event.type){relatedTarget.clickEvent=event}if(!context){continue}const dropdownMenu=context._menu;if(!(0,_jquery.default)(parent).hasClass(CLASS_NAME_SHOW)){continue}if(event&&("click"===event.type&&/input|textarea/i.test(event.target.tagName)||"keyup"===event.type&&event.which===TAB_KEYCODE)&&_jquery.default.contains(parent,event.target)){continue}const hideEvent=_jquery.default.Event(EVENT_HIDE,relatedTarget);(0,_jquery.default)(parent).trigger(hideEvent);if(hideEvent.isDefaultPrevented()){continue}if("ontouchstart"in document.documentElement){(0,_jquery.default)(document.body).children().off("mouseover",null,_jquery.default.noop)}toggles[i].setAttribute("aria-expanded","false");if(context._popper){context._popper.destroy()}(0,_jquery.default)(dropdownMenu).removeClass(CLASS_NAME_SHOW);(0,_jquery.default)(parent).removeClass(CLASS_NAME_SHOW).trigger(_jquery.default.Event(EVENT_HIDDEN,relatedTarget))}}static _getParentFromElement(element){let parent;const selector=_util.default.getSelectorFromElement(element);if(selector){parent=document.querySelector(selector)}return parent||element.parentNode}static _dataApiKeydownHandler(event){if(/input|textarea/i.test(event.target.tagName)?event.which===SPACE_KEYCODE||event.which!==ESCAPE_KEYCODE&&(event.which!==ARROW_DOWN_KEYCODE&&event.which!==ARROW_UP_KEYCODE||(0,_jquery.default)(event.target).closest(SELECTOR_MENU).length):!REGEXP_KEYDOWN.test(event.which)){return}if(this.disabled||(0,_jquery.default)(this).hasClass(CLASS_NAME_DISABLED)){return}const parent=Dropdown._getParentFromElement(this),isActive=(0,_jquery.default)(parent).hasClass(CLASS_NAME_SHOW);if(!isActive&&event.which===ESCAPE_KEYCODE){return}event.preventDefault();event.stopPropagation();if(!isActive||event.which===ESCAPE_KEYCODE||event.which===SPACE_KEYCODE){if(event.which===ESCAPE_KEYCODE){(0,_jquery.default)(parent.querySelector(SELECTOR_DATA_TOGGLE)).trigger("focus")}(0,_jquery.default)(this).trigger("click");return}const items=[].slice.call(parent.querySelectorAll(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)")).filter(item=>(0,_jquery.default)(item).is(":visible"));if(0===items.length){return}let index=items.indexOf(event.target);if(event.which===ARROW_UP_KEYCODE&&0<index){index--}if(event.which===ARROW_DOWN_KEYCODE&&index<items.length-1){index++}if(0>index){index=0}items[index].focus()}}(0,_jquery.default)(document).on(EVENT_KEYDOWN_DATA_API,SELECTOR_DATA_TOGGLE,Dropdown._dataApiKeydownHandler).on(EVENT_KEYDOWN_DATA_API,SELECTOR_MENU,Dropdown._dataApiKeydownHandler).on("".concat(EVENT_CLICK_DATA_API," ").concat(EVENT_KEYUP_DATA_API),Dropdown._clearMenus).on(EVENT_CLICK_DATA_API,SELECTOR_DATA_TOGGLE,function(event){event.preventDefault();event.stopPropagation();Dropdown._jQueryInterface.call((0,_jquery.default)(this),"toggle")}).on(EVENT_CLICK_DATA_API,".dropdown form",e=>{e.stopPropagation()});_jquery.default.fn[NAME]=Dropdown._jQueryInterface;_jquery.default.fn[NAME].Constructor=Dropdown;_jquery.default.fn[NAME].noConflict=()=>{_jquery.default.fn[NAME]=JQUERY_NO_CONFLICT;return Dropdown._jQueryInterface};_exports.default=Dropdown;return _exports.default});
//# sourceMappingURL=dropdown.min.js.map
