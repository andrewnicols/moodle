define ("theme_boost/bootstrap/scrollspy",["exports","jquery","./util"],function(_exports,_jquery,_util){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0});_exports.default=void 0;_jquery=_interopRequireDefault(_jquery);_util=_interopRequireDefault(_util);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1,source;i<arguments.length;i++){source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0})}else{obj[key]=value}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0,descriptor;i<props.length;i++){descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value"in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);Object.defineProperty(Constructor,"prototype",{writable:!1});return Constructor}var DATA_KEY="bs.scrollspy",EVENT_KEY=".".concat(DATA_KEY),JQUERY_NO_CONFLICT=_jquery.default.fn.scrollspy,Default={offset:10,method:"auto",target:""},DefaultType={offset:"number",method:"string",target:"(string|element)"},EVENT_ACTIVATE="activate".concat(EVENT_KEY),EVENT_SCROLL="scroll".concat(EVENT_KEY),EVENT_LOAD_DATA_API="load".concat(EVENT_KEY).concat(".data-api"),CLASS_NAME_ACTIVE="active",SELECTOR_NAV_LIST_GROUP=".nav, .list-group",SELECTOR_NAV_LINKS=".nav-link",SELECTOR_LIST_ITEMS=".list-group-item",METHOD_POSITION="position",ScrollSpy=function(){function ScrollSpy(element,config){var _this=this;_classCallCheck(this,ScrollSpy);this._element=element;this._scrollElement="BODY"===element.tagName?window:element;this._config=this._getConfig(config);this._selector="".concat(this._config.target," ").concat(SELECTOR_NAV_LINKS,",")+"".concat(this._config.target," ").concat(SELECTOR_LIST_ITEMS,",")+"".concat(this._config.target," ").concat(".dropdown-item");this._offsets=[];this._targets=[];this._activeTarget=null;this._scrollHeight=0;(0,_jquery.default)(this._scrollElement).on(EVENT_SCROLL,function(event){return _this._process(event)});this.refresh();this._process()}_createClass(ScrollSpy,[{key:"refresh",value:function refresh(){var _this2=this,autoMethod=this._scrollElement===this._scrollElement.window?"offset":METHOD_POSITION,offsetMethod="auto"===this._config.method?autoMethod:this._config.method,offsetBase=offsetMethod===METHOD_POSITION?this._getScrollTop():0;this._offsets=[];this._targets=[];this._scrollHeight=this._getScrollHeight();var targets=[].slice.call(document.querySelectorAll(this._selector));targets.map(function(element){var target,targetSelector=_util.default.getSelectorFromElement(element);if(targetSelector){target=document.querySelector(targetSelector)}if(target){var targetBCR=target.getBoundingClientRect();if(targetBCR.width||targetBCR.height){return[(0,_jquery.default)(target)[offsetMethod]().top+offsetBase,targetSelector]}}return null}).filter(function(item){return item}).sort(function(a,b){return a[0]-b[0]}).forEach(function(item){_this2._offsets.push(item[0]);_this2._targets.push(item[1])})}},{key:"dispose",value:function dispose(){_jquery.default.removeData(this._element,DATA_KEY);(0,_jquery.default)(this._scrollElement).off(EVENT_KEY);this._element=null;this._scrollElement=null;this._config=null;this._selector=null;this._offsets=null;this._targets=null;this._activeTarget=null;this._scrollHeight=null}},{key:"_getConfig",value:function _getConfig(config){config=_objectSpread(_objectSpread({},Default),"object"===_typeof(config)&&config?config:{});if("string"!=typeof config.target&&_util.default.isElement(config.target)){var id=(0,_jquery.default)(config.target).attr("id");if(!id){id=_util.default.getUID("scrollspy");(0,_jquery.default)(config.target).attr("id",id)}config.target="#".concat(id)}_util.default.typeCheckConfig("scrollspy",config,DefaultType);return config}},{key:"_getScrollTop",value:function _getScrollTop(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop}},{key:"_getScrollHeight",value:function _getScrollHeight(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}},{key:"_getOffsetHeight",value:function _getOffsetHeight(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height}},{key:"_process",value:function _process(){var scrollTop=this._getScrollTop()+this._config.offset,scrollHeight=this._getScrollHeight(),maxScroll=this._config.offset+scrollHeight-this._getOffsetHeight();if(this._scrollHeight!==scrollHeight){this.refresh()}if(scrollTop>=maxScroll){var target=this._targets[this._targets.length-1];if(this._activeTarget!==target){this._activate(target)}return}if(this._activeTarget&&scrollTop<this._offsets[0]&&0<this._offsets[0]){this._activeTarget=null;this._clear();return}for(var i=this._offsets.length,isActiveTarget;i--;){isActiveTarget=this._activeTarget!==this._targets[i]&&scrollTop>=this._offsets[i]&&("undefined"==typeof this._offsets[i+1]||scrollTop<this._offsets[i+1]);if(isActiveTarget){this._activate(this._targets[i])}}}},{key:"_activate",value:function _activate(target){this._activeTarget=target;this._clear();var queries=this._selector.split(",").map(function(selector){return"".concat(selector,"[data-target=\"").concat(target,"\"],").concat(selector,"[href=\"").concat(target,"\"]")}),$link=(0,_jquery.default)([].slice.call(document.querySelectorAll(queries.join(","))));if($link.hasClass("dropdown-item")){$link.closest(".dropdown").find(".dropdown-toggle").addClass(CLASS_NAME_ACTIVE);$link.addClass(CLASS_NAME_ACTIVE)}else{$link.addClass(CLASS_NAME_ACTIVE);$link.parents(SELECTOR_NAV_LIST_GROUP).prev("".concat(SELECTOR_NAV_LINKS,", ").concat(SELECTOR_LIST_ITEMS)).addClass(CLASS_NAME_ACTIVE);$link.parents(SELECTOR_NAV_LIST_GROUP).prev(".nav-item").children(SELECTOR_NAV_LINKS).addClass(CLASS_NAME_ACTIVE)}(0,_jquery.default)(this._scrollElement).trigger(EVENT_ACTIVATE,{relatedTarget:target})}},{key:"_clear",value:function _clear(){[].slice.call(document.querySelectorAll(this._selector)).filter(function(node){return node.classList.contains(CLASS_NAME_ACTIVE)}).forEach(function(node){return node.classList.remove(CLASS_NAME_ACTIVE)})}}],[{key:"VERSION",get:function get(){return"4.5.0"}},{key:"Default",get:function get(){return Default}},{key:"_jQueryInterface",value:function _jQueryInterface(config){return this.each(function(){var data=(0,_jquery.default)(this).data(DATA_KEY),_config="object"===_typeof(config)&&config;if(!data){data=new ScrollSpy(this,_config);(0,_jquery.default)(this).data(DATA_KEY,data)}if("string"==typeof config){if("undefined"==typeof data[config]){throw new TypeError("No method named \"".concat(config,"\""))}data[config]()}})}}]);return ScrollSpy}();(0,_jquery.default)(window).on(EVENT_LOAD_DATA_API,function(){for(var scrollSpys=[].slice.call(document.querySelectorAll("[data-spy=\"scroll\"]")),scrollSpysLength=scrollSpys.length,i=scrollSpysLength,$spy;i--;){$spy=(0,_jquery.default)(scrollSpys[i]);ScrollSpy._jQueryInterface.call($spy,$spy.data())}});_jquery.default.fn.scrollspy=ScrollSpy._jQueryInterface;_jquery.default.fn.scrollspy.Constructor=ScrollSpy;_jquery.default.fn.scrollspy.noConflict=function(){_jquery.default.fn.scrollspy=JQUERY_NO_CONFLICT;return ScrollSpy._jQueryInterface};_exports.default=ScrollSpy;return _exports.default});
//# sourceMappingURL=scrollspy.min.js.map
