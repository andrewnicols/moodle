define ("theme_boost/bootstrap/tooltip",["exports","./tools/sanitizer","jquery","core/popper","./util"],function(_exports,_sanitizer,_jquery,_popper,_util){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0});_exports.default=void 0;_jquery=_interopRequireDefault(_jquery);_popper=_interopRequireDefault(_popper);_util=_interopRequireDefault(_util);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1,source;i<arguments.length;i++){source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0})}else{obj[key]=value}return obj}function _typeof(obj){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0,descriptor;i<props.length;i++){descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value"in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);Object.defineProperty(Constructor,"prototype",{writable:!1});return Constructor}var DATA_KEY="bs.tooltip",EVENT_KEY=".".concat(DATA_KEY),JQUERY_NO_CONFLICT=_jquery.default.fn.tooltip,CLASS_PREFIX="bs-tooltip",BSCLS_PREFIX_REGEX=new RegExp("(^|\\s)".concat(CLASS_PREFIX,"\\S+"),"g"),DISALLOWED_ATTRIBUTES=["sanitize","whiteList","sanitizeFn"],DefaultType={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object",popperConfig:"(null|object)"},AttachmentMap={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},Default={animation:!0,template:"<div class=\"tooltip\" role=\"tooltip\"><div class=\"arrow\"></div><div class=\"tooltip-inner\"></div></div>",trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",customClass:"",sanitize:!0,sanitizeFn:null,whiteList:_sanitizer.DefaultWhitelist,popperConfig:null},HOVER_STATE_SHOW="show",HOVER_STATE_OUT="out",Event={HIDE:"hide".concat(EVENT_KEY),HIDDEN:"hidden".concat(EVENT_KEY),SHOW:"show".concat(EVENT_KEY),SHOWN:"shown".concat(EVENT_KEY),INSERTED:"inserted".concat(EVENT_KEY),CLICK:"click".concat(EVENT_KEY),FOCUSIN:"focusin".concat(EVENT_KEY),FOCUSOUT:"focusout".concat(EVENT_KEY),MOUSEENTER:"mouseenter".concat(EVENT_KEY),MOUSELEAVE:"mouseleave".concat(EVENT_KEY)},CLASS_NAME_FADE="fade",CLASS_NAME_SHOW="show",TRIGGER_HOVER="hover",TRIGGER_FOCUS="focus",Tooltip=function(){function Tooltip(element,config){_classCallCheck(this,Tooltip);if("undefined"==typeof _popper.default){throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)")}this._isEnabled=!0;this._timeout=0;this._hoverState="";this._activeTrigger={};this._popper=null;this.element=element;this.config=this._getConfig(config);this.tip=null;this._setListeners()}_createClass(Tooltip,[{key:"enable",value:function enable(){this._isEnabled=!0}},{key:"disable",value:function disable(){this._isEnabled=!1}},{key:"toggleEnabled",value:function toggleEnabled(){this._isEnabled=!this._isEnabled}},{key:"toggle",value:function toggle(event){if(!this._isEnabled){return}if(event){var dataKey=this.constructor.DATA_KEY,context=(0,_jquery.default)(event.currentTarget).data(dataKey);if(!context){context=new this.constructor(event.currentTarget,this._getDelegateConfig());(0,_jquery.default)(event.currentTarget).data(dataKey,context)}context._activeTrigger.click=!context._activeTrigger.click;if(context._isWithActiveTrigger()){context._enter(null,context)}else{context._leave(null,context)}}else{if((0,_jquery.default)(this.getTipElement()).hasClass(CLASS_NAME_SHOW)){this._leave(null,this);return}this._enter(null,this)}}},{key:"dispose",value:function dispose(){clearTimeout(this._timeout);_jquery.default.removeData(this.element,this.constructor.DATA_KEY);(0,_jquery.default)(this.element).off(this.constructor.EVENT_KEY);(0,_jquery.default)(this.element).closest(".modal").off("hide.bs.modal",this._hideModalHandler);if(this.tip){(0,_jquery.default)(this.tip).remove()}this._isEnabled=null;this._timeout=null;this._hoverState=null;this._activeTrigger=null;if(this._popper){this._popper.destroy()}this._popper=null;this.element=null;this.config=null;this.tip=null}},{key:"show",value:function show(){var _this=this;if("none"===(0,_jquery.default)(this.element).css("display")){throw new Error("Please use show on visible elements")}var showEvent=_jquery.default.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){(0,_jquery.default)(this.element).trigger(showEvent);var shadowRoot=_util.default.findShadowRoot(this.element),isInTheDom=_jquery.default.contains(null!==shadowRoot?shadowRoot:this.element.ownerDocument.documentElement,this.element);if(showEvent.isDefaultPrevented()||!isInTheDom){return}var tip=this.getTipElement(),tipId=_util.default.getUID(this.constructor.NAME);tip.setAttribute("id",tipId);this.element.setAttribute("aria-describedby",tipId);this.setContent();if(this.config.animation){(0,_jquery.default)(tip).addClass(CLASS_NAME_FADE)}var placement="function"==typeof this.config.placement?this.config.placement.call(this,tip,this.element):this.config.placement,attachment=this._getAttachment(placement);this.addAttachmentClass(attachment);var container=this._getContainer();(0,_jquery.default)(tip).data(this.constructor.DATA_KEY,this);if(!_jquery.default.contains(this.element.ownerDocument.documentElement,this.tip)){(0,_jquery.default)(tip).appendTo(container)}(0,_jquery.default)(this.element).trigger(this.constructor.Event.INSERTED);this._popper=new _popper.default(this.element,tip,this._getPopperConfig(attachment));(0,_jquery.default)(tip).addClass(CLASS_NAME_SHOW);(0,_jquery.default)(tip).addClass(this.config.customClass);if("ontouchstart"in document.documentElement){(0,_jquery.default)(document.body).children().on("mouseover",null,_jquery.default.noop)}var complete=function(){if(_this.config.animation){_this._fixTransition()}var prevHoverState=_this._hoverState;_this._hoverState=null;(0,_jquery.default)(_this.element).trigger(_this.constructor.Event.SHOWN);if(prevHoverState===HOVER_STATE_OUT){_this._leave(null,_this)}};if((0,_jquery.default)(this.tip).hasClass(CLASS_NAME_FADE)){var transitionDuration=_util.default.getTransitionDurationFromElement(this.tip);(0,_jquery.default)(this.tip).one(_util.default.TRANSITION_END,complete).emulateTransitionEnd(transitionDuration)}else{complete()}}}},{key:"hide",value:function hide(callback){var _this2=this,tip=this.getTipElement(),hideEvent=_jquery.default.Event(this.constructor.Event.HIDE),complete=function(){if(_this2._hoverState!==HOVER_STATE_SHOW&&tip.parentNode){tip.parentNode.removeChild(tip)}_this2._cleanTipClass();_this2.element.removeAttribute("aria-describedby");(0,_jquery.default)(_this2.element).trigger(_this2.constructor.Event.HIDDEN);if(null!==_this2._popper){_this2._popper.destroy()}if(callback){callback()}};(0,_jquery.default)(this.element).trigger(hideEvent);if(hideEvent.isDefaultPrevented()){return}(0,_jquery.default)(tip).removeClass(CLASS_NAME_SHOW);if("ontouchstart"in document.documentElement){(0,_jquery.default)(document.body).children().off("mouseover",null,_jquery.default.noop)}this._activeTrigger["click"]=!1;this._activeTrigger[TRIGGER_FOCUS]=!1;this._activeTrigger[TRIGGER_HOVER]=!1;if((0,_jquery.default)(this.tip).hasClass(CLASS_NAME_FADE)){var transitionDuration=_util.default.getTransitionDurationFromElement(tip);(0,_jquery.default)(tip).one(_util.default.TRANSITION_END,complete).emulateTransitionEnd(transitionDuration)}else{complete()}this._hoverState=""}},{key:"update",value:function update(){if(null!==this._popper){this._popper.scheduleUpdate()}}},{key:"isWithContent",value:function isWithContent(){return!!this.getTitle()}},{key:"addAttachmentClass",value:function addAttachmentClass(attachment){(0,_jquery.default)(this.getTipElement()).addClass("".concat(CLASS_PREFIX,"-").concat(attachment))}},{key:"getTipElement",value:function getTipElement(){this.tip=this.tip||(0,_jquery.default)(this.config.template)[0];return this.tip}},{key:"setContent",value:function setContent(){var tip=this.getTipElement();this.setElementContent((0,_jquery.default)(tip.querySelectorAll(".tooltip-inner")),this.getTitle());(0,_jquery.default)(tip).removeClass("".concat(CLASS_NAME_FADE," ").concat(CLASS_NAME_SHOW))}},{key:"setElementContent",value:function setElementContent($element,content){if("object"===_typeof(content)&&(content.nodeType||content.jquery)){if(this.config.html){if(!(0,_jquery.default)(content).parent().is($element)){$element.empty().append(content)}}else{$element.text((0,_jquery.default)(content).text())}return}if(this.config.html){if(this.config.sanitize){content=(0,_sanitizer.sanitizeHtml)(content,this.config.whiteList,this.config.sanitizeFn)}$element.html(content)}else{$element.text(content)}}},{key:"getTitle",value:function getTitle(){var title=this.element.getAttribute("data-original-title");if(!title){title="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title}return title}},{key:"_getPopperConfig",value:function _getPopperConfig(attachment){var _this3=this,defaultBsConfig={placement:attachment,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:".arrow"},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function onCreate(data){if(data.originalPlacement!==data.placement){_this3._handlePopperPlacementChange(data)}},onUpdate:function onUpdate(data){return _this3._handlePopperPlacementChange(data)}};return _objectSpread(_objectSpread({},defaultBsConfig),this.config.popperConfig)}},{key:"_getOffset",value:function _getOffset(){var _this4=this,offset={};if("function"==typeof this.config.offset){offset.fn=function(data){data.offsets=_objectSpread(_objectSpread({},data.offsets),_this4.config.offset(data.offsets,_this4.element)||{});return data}}else{offset.offset=this.config.offset}return offset}},{key:"_getContainer",value:function _getContainer(){if(!1===this.config.container){return document.body}if(_util.default.isElement(this.config.container)){return(0,_jquery.default)(this.config.container)}return(0,_jquery.default)(document).find(this.config.container)}},{key:"_getAttachment",value:function _getAttachment(placement){return AttachmentMap[placement.toUpperCase()]}},{key:"_setListeners",value:function _setListeners(){var _this5=this,triggers=this.config.trigger.split(" ");triggers.forEach(function(trigger){if("click"===trigger){(0,_jquery.default)(_this5.element).on(_this5.constructor.Event.CLICK,_this5.config.selector,function(event){return _this5.toggle(event)})}else if(trigger!=="manual"){var eventIn=trigger===TRIGGER_HOVER?_this5.constructor.Event.MOUSEENTER:_this5.constructor.Event.FOCUSIN,eventOut=trigger===TRIGGER_HOVER?_this5.constructor.Event.MOUSELEAVE:_this5.constructor.Event.FOCUSOUT;(0,_jquery.default)(_this5.element).on(eventIn,_this5.config.selector,function(event){return _this5._enter(event)}).on(eventOut,_this5.config.selector,function(event){return _this5._leave(event)})}});this._hideModalHandler=function(){if(_this5.element){_this5.hide()}};(0,_jquery.default)(this.element).closest(".modal").on("hide.bs.modal",this._hideModalHandler);if(this.config.selector){this.config=_objectSpread(_objectSpread({},this.config),{},{trigger:"manual",selector:""})}else{this._fixTitle()}}},{key:"_fixTitle",value:function _fixTitle(){var titleType=_typeof(this.element.getAttribute("data-original-title"));if(this.element.getAttribute("title")||"string"!==titleType){this.element.setAttribute("data-original-title",this.element.getAttribute("title")||"");this.element.setAttribute("title","")}}},{key:"_enter",value:function _enter(event,context){var dataKey=this.constructor.DATA_KEY;context=context||(0,_jquery.default)(event.currentTarget).data(dataKey);if(!context){context=new this.constructor(event.currentTarget,this._getDelegateConfig());(0,_jquery.default)(event.currentTarget).data(dataKey,context)}if(event){context._activeTrigger["focusin"===event.type?TRIGGER_FOCUS:TRIGGER_HOVER]=!0}if((0,_jquery.default)(context.getTipElement()).hasClass(CLASS_NAME_SHOW)||context._hoverState===HOVER_STATE_SHOW){context._hoverState=HOVER_STATE_SHOW;return}clearTimeout(context._timeout);context._hoverState=HOVER_STATE_SHOW;if(!context.config.delay||!context.config.delay.show){context.show();return}context._timeout=setTimeout(function(){if(context._hoverState===HOVER_STATE_SHOW){context.show()}},context.config.delay.show)}},{key:"_leave",value:function _leave(event,context){var dataKey=this.constructor.DATA_KEY;context=context||(0,_jquery.default)(event.currentTarget).data(dataKey);if(!context){context=new this.constructor(event.currentTarget,this._getDelegateConfig());(0,_jquery.default)(event.currentTarget).data(dataKey,context)}if(event){context._activeTrigger["focusout"===event.type?TRIGGER_FOCUS:TRIGGER_HOVER]=!1}if(context._isWithActiveTrigger()){return}clearTimeout(context._timeout);context._hoverState=HOVER_STATE_OUT;if(!context.config.delay||!context.config.delay.hide){context.hide();return}context._timeout=setTimeout(function(){if(context._hoverState===HOVER_STATE_OUT){context.hide()}},context.config.delay.hide)}},{key:"_isWithActiveTrigger",value:function _isWithActiveTrigger(){for(var trigger in this._activeTrigger){if(this._activeTrigger[trigger]){return!0}}return!1}},{key:"_getConfig",value:function _getConfig(config){var dataAttributes=(0,_jquery.default)(this.element).data();Object.keys(dataAttributes).forEach(function(dataAttr){if(-1!==DISALLOWED_ATTRIBUTES.indexOf(dataAttr)){delete dataAttributes[dataAttr]}});config=_objectSpread(_objectSpread(_objectSpread({},this.constructor.Default),dataAttributes),"object"===_typeof(config)&&config?config:{});if("number"==typeof config.delay){config.delay={show:config.delay,hide:config.delay}}if("number"==typeof config.title){config.title=config.title.toString()}if("number"==typeof config.content){config.content=config.content.toString()}_util.default.typeCheckConfig("tooltip",config,this.constructor.DefaultType);if(config.sanitize){config.template=(0,_sanitizer.sanitizeHtml)(config.template,config.whiteList,config.sanitizeFn)}return config}},{key:"_getDelegateConfig",value:function _getDelegateConfig(){var config={};if(this.config){for(var key in this.config){if(this.constructor.Default[key]!==this.config[key]){config[key]=this.config[key]}}}return config}},{key:"_cleanTipClass",value:function _cleanTipClass(){var $tip=(0,_jquery.default)(this.getTipElement()),tabClass=$tip.attr("class").match(BSCLS_PREFIX_REGEX);if(null!==tabClass&&tabClass.length){$tip.removeClass(tabClass.join(""))}}},{key:"_handlePopperPlacementChange",value:function _handlePopperPlacementChange(popperData){this.tip=popperData.instance.popper;this._cleanTipClass();this.addAttachmentClass(this._getAttachment(popperData.placement))}},{key:"_fixTransition",value:function _fixTransition(){var tip=this.getTipElement(),initConfigAnimation=this.config.animation;if(null!==tip.getAttribute("x-placement")){return}(0,_jquery.default)(tip).removeClass(CLASS_NAME_FADE);this.config.animation=!1;this.hide();this.show();this.config.animation=initConfigAnimation}}],[{key:"VERSION",get:function get(){return"4.6.0"}},{key:"Default",get:function get(){return Default}},{key:"NAME",get:function get(){return"tooltip"}},{key:"DATA_KEY",get:function get(){return DATA_KEY}},{key:"Event",get:function get(){return Event}},{key:"EVENT_KEY",get:function get(){return EVENT_KEY}},{key:"DefaultType",get:function get(){return DefaultType}},{key:"_jQueryInterface",value:function _jQueryInterface(config){return this.each(function(){var $element=(0,_jquery.default)(this),data=$element.data(DATA_KEY),_config="object"===_typeof(config)&&config;if(!data&&/dispose|hide/.test(config)){return}if(!data){data=new Tooltip(this,_config);$element.data(DATA_KEY,data)}if("string"==typeof config){if("undefined"==typeof data[config]){throw new TypeError("No method named \"".concat(config,"\""))}data[config]()}})}}]);return Tooltip}();_jquery.default.fn.tooltip=Tooltip._jQueryInterface;_jquery.default.fn.tooltip.Constructor=Tooltip;_jquery.default.fn.tooltip.noConflict=function(){_jquery.default.fn.tooltip=JQUERY_NO_CONFLICT;return Tooltip._jQueryInterface};_exports.default=Tooltip;return _exports.default});
//# sourceMappingURL=tooltip.min.js.map
