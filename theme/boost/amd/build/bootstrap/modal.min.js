define ("theme_boost/bootstrap/modal",["exports","jquery","./util"],function(_exports,_jquery,_util){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0});_exports.default=void 0;_jquery=_interopRequireDefault(_jquery);_util=_interopRequireDefault(_util);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _typeof(obj){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1,source;i<arguments.length;i++){source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){_defineProperty(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0})}else{obj[key]=value}return obj}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(target,props){for(var i=0,descriptor;i<props.length;i++){descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1;descriptor.configurable=!0;if("value"in descriptor)descriptor.writable=!0;Object.defineProperty(target,descriptor.key,descriptor)}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);Object.defineProperty(Constructor,"prototype",{writable:!1});return Constructor}var DATA_KEY="bs.modal",EVENT_KEY=".".concat(DATA_KEY),JQUERY_NO_CONFLICT=_jquery.default.fn.modal,ESCAPE_KEYCODE=27,Default={backdrop:!0,keyboard:!0,focus:!0,show:!0},DefaultType={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},EVENT_HIDE="hide".concat(EVENT_KEY),EVENT_HIDE_PREVENTED="hidePrevented".concat(EVENT_KEY),EVENT_HIDDEN="hidden".concat(EVENT_KEY),EVENT_SHOW="show".concat(EVENT_KEY),EVENT_SHOWN="shown".concat(EVENT_KEY),EVENT_FOCUSIN="focusin".concat(EVENT_KEY),EVENT_RESIZE="resize".concat(EVENT_KEY),EVENT_CLICK_DISMISS="click.dismiss".concat(EVENT_KEY),EVENT_KEYDOWN_DISMISS="keydown.dismiss".concat(EVENT_KEY),EVENT_MOUSEUP_DISMISS="mouseup.dismiss".concat(EVENT_KEY),EVENT_MOUSEDOWN_DISMISS="mousedown.dismiss".concat(EVENT_KEY),EVENT_CLICK_DATA_API="click".concat(EVENT_KEY).concat(".data-api"),CLASS_NAME_OPEN="modal-open",CLASS_NAME_FADE="fade",CLASS_NAME_SHOW="show",CLASS_NAME_STATIC="modal-static",SELECTOR_FIXED_CONTENT=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",SELECTOR_STICKY_CONTENT=".sticky-top",Modal=function(){function Modal(element,config){_classCallCheck(this,Modal);this._config=this._getConfig(config);this._element=element;this._dialog=element.querySelector(".modal-dialog");this._backdrop=null;this._isShown=!1;this._isBodyOverflowing=!1;this._ignoreBackdropClick=!1;this._isTransitioning=!1;this._scrollbarWidth=0}_createClass(Modal,[{key:"toggle",value:function toggle(relatedTarget){return this._isShown?this.hide():this.show(relatedTarget)}},{key:"show",value:function show(relatedTarget){var _this=this;if(this._isShown||this._isTransitioning){return}if((0,_jquery.default)(this._element).hasClass(CLASS_NAME_FADE)){this._isTransitioning=!0}var showEvent=_jquery.default.Event(EVENT_SHOW,{relatedTarget:relatedTarget});(0,_jquery.default)(this._element).trigger(showEvent);if(this._isShown||showEvent.isDefaultPrevented()){return}this._isShown=!0;this._checkScrollbar();this._setScrollbar();this._adjustDialog();this._setEscapeEvent();this._setResizeEvent();(0,_jquery.default)(this._element).on(EVENT_CLICK_DISMISS,"[data-dismiss=\"modal\"]",function(event){return _this.hide(event)});(0,_jquery.default)(this._dialog).on(EVENT_MOUSEDOWN_DISMISS,function(){(0,_jquery.default)(_this._element).one(EVENT_MOUSEUP_DISMISS,function(event){if((0,_jquery.default)(event.target).is(_this._element)){_this._ignoreBackdropClick=!0}})});this._showBackdrop(function(){return _this._showElement(relatedTarget)})}},{key:"hide",value:function hide(event){var _this2=this;if(event){event.preventDefault()}if(!this._isShown||this._isTransitioning){return}var hideEvent=_jquery.default.Event(EVENT_HIDE);(0,_jquery.default)(this._element).trigger(hideEvent);if(!this._isShown||hideEvent.isDefaultPrevented()){return}this._isShown=!1;var transition=(0,_jquery.default)(this._element).hasClass(CLASS_NAME_FADE);if(transition){this._isTransitioning=!0}this._setEscapeEvent();this._setResizeEvent();(0,_jquery.default)(document).off(EVENT_FOCUSIN);(0,_jquery.default)(this._element).removeClass(CLASS_NAME_SHOW);(0,_jquery.default)(this._element).off(EVENT_CLICK_DISMISS);(0,_jquery.default)(this._dialog).off(EVENT_MOUSEDOWN_DISMISS);if(transition){var transitionDuration=_util.default.getTransitionDurationFromElement(this._element);(0,_jquery.default)(this._element).one(_util.default.TRANSITION_END,function(event){return _this2._hideModal(event)}).emulateTransitionEnd(transitionDuration)}else{this._hideModal()}}},{key:"dispose",value:function dispose(){[window,this._element,this._dialog].forEach(function(htmlElement){return(0,_jquery.default)(htmlElement).off(EVENT_KEY)});(0,_jquery.default)(document).off(EVENT_FOCUSIN);_jquery.default.removeData(this._element,DATA_KEY);this._config=null;this._element=null;this._dialog=null;this._backdrop=null;this._isShown=null;this._isBodyOverflowing=null;this._ignoreBackdropClick=null;this._isTransitioning=null;this._scrollbarWidth=null}},{key:"handleUpdate",value:function handleUpdate(){this._adjustDialog()}},{key:"_getConfig",value:function _getConfig(config){config=_objectSpread(_objectSpread({},Default),config);_util.default.typeCheckConfig("modal",config,DefaultType);return config}},{key:"_triggerBackdropTransition",value:function _triggerBackdropTransition(){var _this3=this;if("static"===this._config.backdrop){var hideEventPrevented=_jquery.default.Event(EVENT_HIDE_PREVENTED);(0,_jquery.default)(this._element).trigger(hideEventPrevented);if(hideEventPrevented.defaultPrevented){return}this._element.classList.add(CLASS_NAME_STATIC);var modalTransitionDuration=_util.default.getTransitionDurationFromElement(this._element);(0,_jquery.default)(this._element).one(_util.default.TRANSITION_END,function(){_this3._element.classList.remove(CLASS_NAME_STATIC)}).emulateTransitionEnd(modalTransitionDuration);this._element.focus()}else{this.hide()}}},{key:"_showElement",value:function _showElement(relatedTarget){var _this4=this,transition=(0,_jquery.default)(this._element).hasClass(CLASS_NAME_FADE),modalBody=this._dialog?this._dialog.querySelector(".modal-body"):null;if(!this._element.parentNode||this._element.parentNode.nodeType!==Node.ELEMENT_NODE){document.body.appendChild(this._element)}this._element.style.display="block";this._element.removeAttribute("aria-hidden");this._element.setAttribute("aria-modal",!0);if((0,_jquery.default)(this._dialog).hasClass("modal-dialog-scrollable")&&modalBody){modalBody.scrollTop=0}else{this._element.scrollTop=0}if(transition){_util.default.reflow(this._element)}(0,_jquery.default)(this._element).addClass(CLASS_NAME_SHOW);if(this._config.focus){this._enforceFocus()}var shownEvent=_jquery.default.Event(EVENT_SHOWN,{relatedTarget:relatedTarget}),transitionComplete=function(){if(_this4._config.focus){_this4._element.focus()}_this4._isTransitioning=!1;(0,_jquery.default)(_this4._element).trigger(shownEvent)};if(transition){var transitionDuration=_util.default.getTransitionDurationFromElement(this._dialog);(0,_jquery.default)(this._dialog).one(_util.default.TRANSITION_END,transitionComplete).emulateTransitionEnd(transitionDuration)}else{transitionComplete()}}},{key:"_enforceFocus",value:function _enforceFocus(){var _this5=this;(0,_jquery.default)(document).off(EVENT_FOCUSIN).on(EVENT_FOCUSIN,function(event){if(document!==event.target&&_this5._element!==event.target&&0===(0,_jquery.default)(_this5._element).has(event.target).length){_this5._element.focus()}})}},{key:"_setEscapeEvent",value:function _setEscapeEvent(){var _this6=this;if(this._isShown){(0,_jquery.default)(this._element).on(EVENT_KEYDOWN_DISMISS,function(event){if(_this6._config.keyboard&&event.which===ESCAPE_KEYCODE){event.preventDefault();_this6.hide()}else if(!_this6._config.keyboard&&event.which===ESCAPE_KEYCODE){_this6._triggerBackdropTransition()}})}else if(!this._isShown){(0,_jquery.default)(this._element).off(EVENT_KEYDOWN_DISMISS)}}},{key:"_setResizeEvent",value:function _setResizeEvent(){var _this7=this;if(this._isShown){(0,_jquery.default)(window).on(EVENT_RESIZE,function(event){return _this7.handleUpdate(event)})}else{(0,_jquery.default)(window).off(EVENT_RESIZE)}}},{key:"_hideModal",value:function _hideModal(){var _this8=this;this._element.style.display="none";this._element.setAttribute("aria-hidden",!0);this._element.removeAttribute("aria-modal");this._isTransitioning=!1;this._showBackdrop(function(){(0,_jquery.default)(document.body).removeClass(CLASS_NAME_OPEN);_this8._resetAdjustments();_this8._resetScrollbar();(0,_jquery.default)(_this8._element).trigger(EVENT_HIDDEN)})}},{key:"_removeBackdrop",value:function _removeBackdrop(){if(this._backdrop){(0,_jquery.default)(this._backdrop).remove();this._backdrop=null}}},{key:"_showBackdrop",value:function _showBackdrop(callback){var _this9=this,animate=(0,_jquery.default)(this._element).hasClass(CLASS_NAME_FADE)?CLASS_NAME_FADE:"";if(this._isShown&&this._config.backdrop){this._backdrop=document.createElement("div");this._backdrop.className="modal-backdrop";if(animate){this._backdrop.classList.add(animate)}(0,_jquery.default)(this._backdrop).appendTo(document.body);(0,_jquery.default)(this._element).on(EVENT_CLICK_DISMISS,function(event){if(_this9._ignoreBackdropClick){_this9._ignoreBackdropClick=!1;return}if(event.target!==event.currentTarget){return}_this9._triggerBackdropTransition()});if(animate){_util.default.reflow(this._backdrop)}(0,_jquery.default)(this._backdrop).addClass(CLASS_NAME_SHOW);if(!callback){return}if(!animate){callback();return}var backdropTransitionDuration=_util.default.getTransitionDurationFromElement(this._backdrop);(0,_jquery.default)(this._backdrop).one(_util.default.TRANSITION_END,callback).emulateTransitionEnd(backdropTransitionDuration)}else if(!this._isShown&&this._backdrop){(0,_jquery.default)(this._backdrop).removeClass(CLASS_NAME_SHOW);var callbackRemove=function(){_this9._removeBackdrop();if(callback){callback()}};if((0,_jquery.default)(this._element).hasClass(CLASS_NAME_FADE)){var _backdropTransitionDuration=_util.default.getTransitionDurationFromElement(this._backdrop);(0,_jquery.default)(this._backdrop).one(_util.default.TRANSITION_END,callbackRemove).emulateTransitionEnd(_backdropTransitionDuration)}else{callbackRemove()}}else if(callback){callback()}}},{key:"_adjustDialog",value:function _adjustDialog(){var isModalOverflowing=this._element.scrollHeight>document.documentElement.clientHeight;if(!this._isBodyOverflowing&&isModalOverflowing){this._element.style.paddingLeft="".concat(this._scrollbarWidth,"px")}if(this._isBodyOverflowing&&!isModalOverflowing){this._element.style.paddingRight="".concat(this._scrollbarWidth,"px")}}},{key:"_resetAdjustments",value:function _resetAdjustments(){this._element.style.paddingLeft="";this._element.style.paddingRight=""}},{key:"_checkScrollbar",value:function _checkScrollbar(){var rect=document.body.getBoundingClientRect();this._isBodyOverflowing=Math.round(rect.left+rect.right)<window.innerWidth;this._scrollbarWidth=this._getScrollbarWidth()}},{key:"_setScrollbar",value:function _setScrollbar(){var _this10=this;if(this._isBodyOverflowing){var fixedContent=[].slice.call(document.querySelectorAll(SELECTOR_FIXED_CONTENT)),stickyContent=[].slice.call(document.querySelectorAll(SELECTOR_STICKY_CONTENT));(0,_jquery.default)(fixedContent).each(function(index,element){var actualPadding=element.style.paddingRight,calculatedPadding=(0,_jquery.default)(element).css("padding-right");(0,_jquery.default)(element).data("padding-right",actualPadding).css("padding-right","".concat(parseFloat(calculatedPadding)+_this10._scrollbarWidth,"px"))});(0,_jquery.default)(stickyContent).each(function(index,element){var actualMargin=element.style.marginRight,calculatedMargin=(0,_jquery.default)(element).css("margin-right");(0,_jquery.default)(element).data("margin-right",actualMargin).css("margin-right","".concat(parseFloat(calculatedMargin)-_this10._scrollbarWidth,"px"))});var actualPadding=document.body.style.paddingRight,calculatedPadding=(0,_jquery.default)(document.body).css("padding-right");(0,_jquery.default)(document.body).data("padding-right",actualPadding).css("padding-right","".concat(parseFloat(calculatedPadding)+this._scrollbarWidth,"px"))}(0,_jquery.default)(document.body).addClass(CLASS_NAME_OPEN)}},{key:"_resetScrollbar",value:function _resetScrollbar(){var fixedContent=[].slice.call(document.querySelectorAll(SELECTOR_FIXED_CONTENT));(0,_jquery.default)(fixedContent).each(function(index,element){var padding=(0,_jquery.default)(element).data("padding-right");(0,_jquery.default)(element).removeData("padding-right");element.style.paddingRight=padding?padding:""});var elements=[].slice.call(document.querySelectorAll("".concat(SELECTOR_STICKY_CONTENT)));(0,_jquery.default)(elements).each(function(index,element){var margin=(0,_jquery.default)(element).data("margin-right");if("undefined"!=typeof margin){(0,_jquery.default)(element).css("margin-right",margin).removeData("margin-right")}});var padding=(0,_jquery.default)(document.body).data("padding-right");(0,_jquery.default)(document.body).removeData("padding-right");document.body.style.paddingRight=padding?padding:""}},{key:"_getScrollbarWidth",value:function _getScrollbarWidth(){var scrollDiv=document.createElement("div");scrollDiv.className="modal-scrollbar-measure";document.body.appendChild(scrollDiv);var scrollbarWidth=scrollDiv.getBoundingClientRect().width-scrollDiv.clientWidth;document.body.removeChild(scrollDiv);return scrollbarWidth}}],[{key:"VERSION",get:function get(){return"4.5.0"}},{key:"Default",get:function get(){return Default}},{key:"_jQueryInterface",value:function _jQueryInterface(config,relatedTarget){return this.each(function(){var data=(0,_jquery.default)(this).data(DATA_KEY),_config=_objectSpread(_objectSpread(_objectSpread({},Default),(0,_jquery.default)(this).data()),"object"===_typeof(config)&&config?config:{});if(!data){data=new Modal(this,_config);(0,_jquery.default)(this).data(DATA_KEY,data)}if("string"==typeof config){if("undefined"==typeof data[config]){throw new TypeError("No method named \"".concat(config,"\""))}data[config](relatedTarget)}else if(_config.show){data.show(relatedTarget)}})}}]);return Modal}();(0,_jquery.default)(document).on(EVENT_CLICK_DATA_API,"[data-toggle=\"modal\"]",function(event){var _this11=this,target,selector=_util.default.getSelectorFromElement(this);if(selector){target=document.querySelector(selector)}var config=(0,_jquery.default)(target).data(DATA_KEY)?"toggle":_objectSpread(_objectSpread({},(0,_jquery.default)(target).data()),(0,_jquery.default)(this).data());if("A"===this.tagName||"AREA"===this.tagName){event.preventDefault()}var $target=(0,_jquery.default)(target).one(EVENT_SHOW,function(showEvent){if(showEvent.isDefaultPrevented()){return}$target.one(EVENT_HIDDEN,function(){if((0,_jquery.default)(_this11).is(":visible")){_this11.focus()}})});Modal._jQueryInterface.call((0,_jquery.default)(target),config,this)});_jquery.default.fn.modal=Modal._jQueryInterface;_jquery.default.fn.modal.Constructor=Modal;_jquery.default.fn.modal.noConflict=function(){_jquery.default.fn.modal=JQUERY_NO_CONFLICT;return Modal._jQueryInterface};_exports.default=Modal;return _exports.default});
//# sourceMappingURL=modal.min.js.map
