define ("core_user/unified_filter_datasource",["jquery","core/ajax","core/notification"],function($,Ajax,Notification){return{list:function list(selector,query){var filteredOptions=[],el=$(selector),originalOptions=$(selector).data("originaloptionsjson"),selectedFilters=el.val();$.each(originalOptions,function(index,option){if(""!==query.trim()&&-1===option.label.toLocaleLowerCase().indexOf(query.toLocaleLowerCase())){return!0}if(-1<$.inArray(option.value,selectedFilters)){return!0}filteredOptions.push(option);return!0});var deferred=new $.Deferred;deferred.resolve(filteredOptions);return deferred.promise()},processResults:function processResults(selector,results){var options=[];$.each(results,function(index,data){options.push({value:data.value,label:data.label})});return options},transport:function transport(selector,query,callback){this.list(selector,query).then(callback).catch(Notification.exception)}}});
//# sourceMappingURL=unified_filter_datasource.min.js.map
