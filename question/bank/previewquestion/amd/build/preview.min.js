define ("qbank_previewquestion/preview",["exports","jquery"],function(_exports,_jquery){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0});_exports.init=void 0;_jquery=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_jquery);_exports.init=(redirect,url)=>{if(!redirect){let closeButton=document.getElementById("close-previewquestion-page");closeButton.onclick=()=>{if(null===window.opener){location.href=url}else{window.close()}}}setupQuestionForm("responseform")};const setupQuestionForm=formElement=>{let form=document.getElementById(formElement);if(form){autocompleteOff(form);preventRepeatSubmission(form);removeClass(".questionflagsavebutton",form);scrollToSavedPos(form)}},autocompleteOff=form=>{form.setAttribute("autocomplete","off")},preventRepeatSubmission=form=>{form.addEventListener("submit",function(){(0,_jquery.default)(this).submit(function(){return!1});return!0})},removeClass=(classname,form)=>{form.querySelectorAll(classname).forEach(e=>e.remove())},scrollToSavedPos=form=>{let matches=window.location.href.match(/^.*[?&]scrollpos=(\d*)(?:&|$|#).*$/,"$1");if(matches){window.scrollTo(0,matches[1]);form.addEventListener("DOMContentLoaded",()=>{window.scrollTo(0,matches[1])})}}});
//# sourceMappingURL=preview.min.js.map
