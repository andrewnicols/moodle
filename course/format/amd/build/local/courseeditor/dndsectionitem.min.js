define ("core_courseformat/local/courseeditor/dndsectionitem",["exports","core/reactive"],function(_exports,_reactive){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0});_exports.default=void 0;class _default extends _reactive.BaseComponent{configDragDrop(sectionid,state,fullregion){this.id=sectionid;if(this.section===void 0){this.section=state.section.get(this.id)}if(this.course===void 0){this.course=state.course}if(0<this.section.number){this.getDraggableData=this._getDraggableData}this.fullregion=fullregion;if(this.reactive.isEditing&&this.reactive.supportComponents){this.dragdrop=new _reactive.DragDrop(this);this.classes=this.dragdrop.getClasses()}}destroy(){if(this.dragdrop!==void 0){this.dragdrop.unregister()}}dragStart(dropdata){this.reactive.dispatch("sectionDrag",[dropdata.id],!0)}dragEnd(dropdata){this.reactive.dispatch("sectionDrag",[dropdata.id],!1)}_getDraggableData(){const exporter=this.reactive.getExporter();return exporter.sectionDraggableData(this.reactive.state,this.id)}validateDropData(dropdata){if("cm"===(null===dropdata||void 0===dropdata?void 0:dropdata.type)){var _this$section;const firstcmid=null===(_this$section=this.section)||void 0===_this$section?void 0:_this$section.cmlist[0];return dropdata.id!==firstcmid}return!1}showDropZone(){this.element.classList.add(this.classes.DROPZONE)}hideDropZone(){this.element.classList.remove(this.classes.DROPZONE)}drop(dropdata){if("cm"==dropdata.type){var _this$section2;this.reactive.dispatch("cmMove",[dropdata.id],this.id,null===(_this$section2=this.section)||void 0===_this$section2?void 0:_this$section2.cmlist[0])}}}_exports.default=_default;return _exports.default});
//# sourceMappingURL=dndsectionitem.min.js.map
