define ("core_courseformat/courseeditor",["exports","core_courseformat/local/courseeditor/mutations","core_courseformat/local/courseeditor/courseeditor","core_course/events"],function(_exports,_mutations,_courseeditor,_events){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0});_exports.setViewFormat=_exports.getCurrentCourseEditor=_exports.getCourseEditor=void 0;_mutations=_interopRequireDefault(_mutations);_courseeditor=_interopRequireDefault(_courseeditor);_events=_interopRequireDefault(_events);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}var courseEditorMap=new Map;function dispatchStateChangedEvent(detail,target){if(target===void 0){target=document}target.dispatchEvent(new CustomEvent(_events.default.stateChanged,{bubbles:!0,detail:detail}))}_exports.setViewFormat=function setViewFormat(courseId,setup){var editor=getCourseEditor(courseId);editor.setViewFormat(setup)};var getCourseEditor=function(courseId){courseId=parseInt(courseId);if(!courseEditorMap.has(courseId)){courseEditorMap.set(courseId,new _courseeditor.default({name:"CourseEditor".concat(courseId),eventName:_events.default.stateChanged,eventDispatch:dispatchStateChangedEvent,mutations:new _mutations.default}));courseEditorMap.get(courseId).loadCourse(courseId)}return courseEditorMap.get(courseId)};_exports.getCourseEditor=getCourseEditor;_exports.getCurrentCourseEditor=function getCurrentCourseEditor(){return getCourseEditor(M.cfg.courseId)}});
//# sourceMappingURL=courseeditor.min.js.map
