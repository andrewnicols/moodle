(function(global,factory){"object"==typeof exports&&"undefined"!=typeof module?module.exports=factory(require("video.js"),require("OGVCompat"),require("OGVLoader"),require("OGVPlayer")):"function"==typeof define&&define.amd?define ("media_videojs/videojs-ogvjs-lazy",["media_videojs/video-lazy","./local/ogv/ogv"],factory):(global="undefined"!=typeof globalThis?globalThis:global||self,global.videojsOgvjs=factory(global.videojs,global.OGVCompat,global.OGVLoader,global.OGVPlayer))})(this,function(videojs,ogvBase){"use strict";function _interopDefaultLegacy(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var videojs__default=_interopDefaultLegacy(videojs),OGVCompat__default=_interopDefaultLegacy(ogvBase.OGVCompat),OGVLoader__default=_interopDefaultLegacy(ogvBase.OGVLoader),OGVPlayer__default=_interopDefaultLegacy(ogvBase.OGVPlayer);function createCommonjsModule(fn,basedir,module){return module={path:basedir,exports:{},require:function(path,base){return commonjsRequire(path,base===void 0||null===base?module.path:base)}},fn(module,module.exports),module.exports}function commonjsRequire(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var setPrototypeOf=createCommonjsModule(function(module){function _setPrototypeOf(o,p){module.exports=_setPrototypeOf=Object.setPrototypeOf||function(o,p){o.__proto__=p;return o};module.exports["default"]=module.exports,module.exports.__esModule=!0;return _setPrototypeOf(o,p)}module.exports=_setPrototypeOf;module.exports["default"]=module.exports,module.exports.__esModule=!0}),inheritsLoose=createCommonjsModule(function(module){module.exports=function(subClass,superClass){subClass.prototype=Object.create(superClass.prototype);subClass.prototype.constructor=subClass;setPrototypeOf(subClass,superClass)};module.exports["default"]=module.exports,module.exports.__esModule=!0}),Tech=videojs__default["default"].getComponent("Tech"),iPhoneOS="iPhoneOS",defineLazyProperty=function(obj,key,getValue,setter){if(void 0===setter){setter=!0}var set=function(value){Object.defineProperty(obj,key,{value:value,enumerable:!0,writable:!0})},options={configurable:!0,enumerable:!0,get:function(){var value=getValue();set(value);return value}};if(setter){options.set=set}return Object.defineProperty(obj,key,options)},getDeviceOS=function(){var ua=navigator.userAgent;if(/android/i.test(ua)){return"Android"}else if(/iPad|iPhone|iPod/.test(ua)){return iPhoneOS}else if("MacIntel"===navigator.platform&&1<navigator.maxTouchPoints){return"iPadOS"}return"Other"},OgvJS=function(_Tech){inheritsLoose(OgvJS,_Tech);function OgvJS(options,ready){var _this=_Tech.call(this,options,ready)||this;_this.el_.src=options.source.src;OgvJS.setIfAvailable(_this.el_,"autoplay",options.autoplay);OgvJS.setIfAvailable(_this.el_,"loop",options.loop);OgvJS.setIfAvailable(_this.el_,"poster",options.poster);OgvJS.setIfAvailable(_this.el_,"preload",options.preload);_this.on("loadedmetadata",function(){if(getDeviceOS()===iPhoneOS){var canvas=this.el_.getElementsByTagName("canvas")[0];canvas.style.removeProperty("width");canvas.style.removeProperty("margin")}this.triggerReady()});return _this}var _proto=OgvJS.prototype;_proto.createEl=function(){var options=this.options_;if(options.base){OGVLoader__default["default"].base=options.base}else{throw new Error("Please specify the base for the ogv.js library")}var el=new OGVPlayer__default["default"](options);el.className+=" vjs-tech";options.tag=el;return el};_proto.play=function(){this.el_.play()};_proto.playbackRate=function(){return this.el_.playbackRate||1};_proto.setPlaybackRate=function(val){if(this.el_.hasOwnProperty("playbackRate")){this.el_.playbackRate=val}};_proto.played=function(){return this.el_.played};_proto.pause=function(){this.el_.pause()};_proto.paused=function(){return this.el_.paused};_proto.currentTime=function(){return this.el_.currentTime};_proto.setCurrentTime=function(seconds){try{this.el_.currentTime=seconds}catch(e){videojs__default["default"].log(e,"Media is not ready. (Video.JS)")}};_proto.duration=function(){if(this.el_.duration&&this.el_.duration!==1/0){return this.el_.duration}return 0};_proto.buffered=function(){return this.el_.buffered};_proto.volume=function(){return this.el_.hasOwnProperty("volume")?this.el_.volume:1};_proto.setVolume=function(percentAsDecimal){if(getDeviceOS()!==iPhoneOS&&this.el_.hasOwnProperty("volume")){this.el_.volume=percentAsDecimal}};_proto.muted=function(){return this.el_.muted};_proto.setMuted=function(muted){this.el_.muted=!!muted};_proto.defaultMuted=function(){return this.el_.defaultMuted||!1};_proto.width=function(){return this.el_.offsetWidth};_proto.height=function(){return this.el_.offsetHeight};_proto.videoWidth=function(){return this.el_.videoWidth};_proto.videoHeight=function(){return this.el_.videoHeight};_proto.src=function(_src){if("undefined"==typeof _src){return this.el_.src}this.el_.src=_src};_proto.load=function(){this.el_.load()};_proto.currentSrc=function(){if(this.currentSource_){return this.currentSource_.src}return this.el_.currentSrc};_proto.poster=function(){return this.el_.poster};_proto.setPoster=function(url){this.el_.poster=url};_proto.preload=function(){return this.el_.preload||"none"};_proto.setPreload=function(val){if(this.el_.hasOwnProperty("preload")){this.el_.preload=val}};_proto.autoplay=function(){return this.el_.autoplay||!1};_proto.setAutoplay=function(val){if(this.el_.hasOwnProperty("autoplay")){this.el_.autoplay=!!val}};_proto.controls=function(){return this.el_.controls||!1};_proto.setControls=function(val){if(this.el_.hasOwnProperty("controls")){this.el_.controls=!!val}};_proto.loop=function(){return this.el_.loop||!1};_proto.setLoop=function(val){if(this.el_.hasOwnProperty("loop")){this.el_.loop=!!val}};_proto.seekable=function(){return this.el_.seekable};_proto.seeking=function(){return this.el_.seeking};_proto.ended=function(){return this.el_.ended};_proto.networkState=function(){return this.el_.networkState};_proto.readyState=function(){return this.el_.readyState};_proto.supportsFullScreen=function(){return!1};_proto.error=function(){return this.el_.error};return OgvJS}(Tech);OgvJS.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];OgvJS.setIfAvailable=function(el,name,value){if(el.hasOwnProperty(name)){el[name]=value}};OgvJS.isSupported=function(){return OGVCompat__default["default"].supported("OGVPlayer")};OgvJS.canPlayType=function(type){return-1!==type.indexOf("/ogg")||type.indexOf("/webm")?"maybe":""};OgvJS.canPlaySource=function(srcObj){return OgvJS.canPlayType(srcObj.type)};OgvJS.canControlVolume=function(){if(getDeviceOS()===iPhoneOS){return!1}var p=new OGVPlayer__default["default"];return p.hasOwnProperty("volume")};OgvJS.canMuteVolume=function(){return!0};OgvJS.canControlPlaybackRate=function(){return!0};OgvJS.supportsNativeTextTracks=function(){return!1};OgvJS.supportsFullscreenResize=function(){return!0};OgvJS.supportsProgressEvents=function(){return!0};OgvJS.supportsTimeupdateEvents=function(){return!0};[["featuresVolumeControl","canControlVolume"],["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresFullscreenResize","supportsFullscreenResize"],["featuresProgressEvents","supportsProgressEvents"],["featuresTimeupdateEvents","supportsTimeupdateEvents"]].forEach(function(_ref){var key=_ref[0],fn=_ref[1];defineLazyProperty(OgvJS.prototype,key,function(){OgvJS[fn]()},!0)});Tech.registerTech("OgvJS",OgvJS);return OgvJS});
//# sourceMappingURL=videojs-ogvjs-lazy.min.js.map
