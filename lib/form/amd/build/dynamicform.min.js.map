{"version":3,"file":"dynamicform.min.js","sources":["../src/dynamicform.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Display an embedded form, it is only loaded and reloaded inside its container\n *\n *\n * @module     core_form/dynamicform\n * @copyright  2019 Marina Glancy\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n * See also https://docs.moodle.org/dev/Modal_and_AJAX_forms\n *\n * @example\n *    import DynamicForm from 'core_form/dynamicform';\n *\n *    const dynamicForm = new DynamicForm(document.querySelector('#mycontainer', 'pluginname\\\\form\\\\formname');\n *    dynamicForm.addEventListener(dynamicForm.events.FORM_SUBMITTED, e => {\n *        e.preventDefault();\n *        window.console.log(e.detail);\n *        dynamicForm.container.innerHTML = 'Thank you, your form is submitted!';\n *    });\n *    dynamicForm.load();\n *\n */\n\nimport Ajax from 'core/ajax';\nimport Notification from 'core/notification';\nimport Templates from 'core/templates';\nimport Event from 'core/event';\nimport {get_strings as getStrings} from 'core/str';\nimport Y from 'core/yui';\nimport Fragment from 'core/fragment';\nimport Pending from 'core/pending';\nimport {serialize} from './util';\n\n/**\n * @class core_form/dynamicform\n */\nexport default class DynamicForm {\n\n    /**\n     * Various events that can be observed.\n     *\n     * @type {Object}\n     */\n    events = {\n        // Form was successfully submitted - the response is passed to the event listener.\n        // Cancellable (in order to prevent default behavior to clear the container).\n        FORM_SUBMITTED: 'core_form_dynamicform_formsubmitted',\n        // Cancel button was pressed.\n        // Cancellable (in order to prevent default behavior to clear the container).\n        FORM_CANCELLED: 'core_form_dynamicform_formcancelled',\n        // User attempted to submit the form but there was client-side validation error.\n        CLIENT_VALIDATION_ERROR: 'core_form_dynamicform_clientvalidationerror',\n        // User attempted to submit the form but server returned validation error.\n        SERVER_VALIDATION_ERROR: 'core_form_dynamicform_validationerror',\n        // Error occurred while performing request to the server.\n        // Cancellable (by default calls Notification.exception).\n        ERROR: 'core_form_dynamicform_error',\n        // Right after user pressed no-submit button,\n        // listen to this event if you want to add JS validation or processing for no-submit button.\n        // Cancellable.\n        NOSUBMIT_BUTTON_PRESSED: 'core_form_dynamicform_nosubmitbutton',\n        // Right after user pressed submit button,\n        // listen to this event if you want to add additional JS validation or confirmation dialog.\n        // Cancellable.\n        SUBMIT_BUTTON_PRESSED: 'core_form_dynamicform_submitbutton',\n        // Right after user pressed cancel button,\n        // listen to this event if you want to add confirmation dialog.\n        // Cancellable.\n        CANCEL_BUTTON_PRESSED: 'core_form_dynamicform_cancelbutton',\n    };\n\n    /**\n     * Constructor\n     *\n     * Creates an instance\n     *\n     * @param {Element} container - the parent element for the form\n     * @param {string} formClass full name of the php class that extends \\core_form\\modal , must be in autoloaded location\n     */\n    constructor(container, formClass) {\n        this.formClass = formClass;\n        this.container = container;\n\n        // Ensure strings required for shortforms are always available.\n        getStrings([\n            {key: 'collapseall', component: 'moodle'},\n            {key: 'expandall', component: 'moodle'}\n        ]).catch(Notification.exception);\n\n        // Register delegated events handlers in vanilla JS.\n        this.container.addEventListener('click', e => {\n            if (e.target.matches('form input[type=submit][data-cancel]')) {\n                e.preventDefault();\n                const event = this.trigger(this.events.CANCEL_BUTTON_PRESSED, e.target);\n                if (!event.defaultPrevented) {\n                    this.processCancelButton();\n                }\n            } else if (e.target.matches('form input[type=submit][data-no-submit=\"1\"]')) {\n                e.preventDefault();\n                const event = this.trigger(this.events.NOSUBMIT_BUTTON_PRESSED, e.target);\n                if (!event.defaultPrevented) {\n                    this.processNoSubmitButton(e.target);\n                }\n            }\n        });\n\n        this.container.addEventListener('submit', e => {\n            if (e.target.matches('form')) {\n                e.preventDefault();\n                const event = this.trigger(this.events.SUBMIT_BUTTON_PRESSED);\n                if (!event.defaultPrevented) {\n                    this.submitFormAjax();\n                }\n            }\n        });\n    }\n\n    /**\n     * Loads the form via AJAX and shows it inside a given container\n     *\n     * @param {Object} args\n     * @return {Promise}\n     * @public\n     */\n    load(args = null) {\n        const formData = serialize(args || {});\n        const pendingPromise = new Pending('core_form/dynamicform:load');\n        return this.getBody(formData)\n        .then((resp) => this.updateForm(resp))\n        .then(pendingPromise.resolve);\n    }\n\n    /**\n     * Triggers a custom event\n     *\n     * @private\n     * @param {String} eventName\n     * @param {*} detail\n     * @param {Boolean} cancelable\n     * @return {CustomEvent<unknown>}\n     */\n    trigger(eventName, detail = null, cancelable = true) {\n        const e = new CustomEvent(eventName, {detail, cancelable});\n        this.container.dispatchEvent(e);\n        return e;\n    }\n\n    /**\n     * Add listener for an event\n     *\n     * @param {array} args\n     * @example:\n     *    const dynamicForm = new DynamicForm(...);\n     *    dynamicForm.addEventListener(dynamicForm.events.FORM_SUBMITTED, e => {\n     *        e.preventDefault();\n     *        window.console.log(e.detail);\n     *        dynamicForm.container.innerHTML = 'Thank you, your form is submitted!';\n     *    });\n     */\n    addEventListener(...args) {\n        this.container.addEventListener(...args);\n    }\n\n    /**\n     * Get form body\n     *\n     * @param {String} formDataString form data in format of a query string\n     * @private\n     * @return {Promise}\n     */\n    getBody(formDataString) {\n        return Ajax.call([{\n            methodname: 'core_form_dynamic_form',\n            args: {\n                formdata: formDataString,\n                form: this.formClass,\n            }\n        }])[0]\n        .then(response => {\n            return {html: response.html, js: Fragment.processCollectedJavascript(response.javascript)};\n        });\n    }\n\n    /**\n     * On form submit\n     *\n     * @param {*} response Response received from the form's \"process\" method\n     */\n    onSubmitSuccess(response) {\n        const event = this.trigger(this.events.FORM_SUBMITTED, response);\n        if (event.defaultPrevented) {\n            return;\n        }\n\n        // Default implementation is to remove the form. Event listener should either remove or reload the form\n        // since its contents is no longer correct. For example, if an element was created as a result of\n        // form submission, the \"id\" in the form would be still zero. Also the server-side validation\n        // errors from the previous submission may still be present.\n        this.container.innerHTML = '';\n    }\n\n    /**\n     * On exception during form processing\n     *\n     * @private\n     * @param {Object} exception\n     */\n    onSubmitError(exception) {\n        const event = this.trigger(this.events.ERROR, exception);\n        if (event.defaultPrevented) {\n            return;\n        }\n\n        Notification.exception(exception);\n    }\n\n    /**\n     * Click on a \"submit\" button that is marked in the form as registerNoSubmitButton()\n     *\n     * @method submitButtonPressed\n     * @param {Element} button that was pressed\n     */\n    processNoSubmitButton(button) {\n        const pendingPromise = new Pending('core_form/dynamicform:nosubmit');\n        const form = this.container.querySelector('form');\n        const formData = new URLSearchParams([...(new FormData(form)).entries()]);\n        formData.append(button.getAttribute('name'), button.getAttribute('value'));\n\n        this.notifyFormSubmitAjax(true)\n        .then(() => {\n            // Add the button name to the form data and submit it.\n            this.disableButtons();\n            return this.getBody(formData.toString());\n        })\n        .then((resp) => this.updateForm(resp))\n        .finally(pendingPromise.resolve)\n        .catch(exception => this.onSubmitError(exception));\n    }\n\n    /**\n     * Wrapper for Event.notifyFormSubmitAjax that waits for the module to load\n     *\n     * We often destroy the form right after calling this function and we need to make sure that it actually\n     * completes before it, or otherwise it will try to work with a form that does not exist.\n     *\n     * @param {Boolean} skipValidation\n     * @return {Promise}\n     */\n    notifyFormSubmitAjax(skipValidation = false) {\n        const form = this.container.querySelector('form');\n        return new Promise(resolve => {\n            Y.use('event', 'moodle-core-event', 'moodle-core-formchangechecker', function() {\n                Event.notifyFormSubmitAjax(form, skipValidation);\n                resolve();\n            });\n        });\n    }\n\n    /**\n     * Notifies listeners that form dirty state should be reset.\n     *\n     * @return {Promise<unknown>}\n     */\n    notifyResetFormChanges() {\n        const form = this.container.querySelector('form');\n        return new Promise(resolve => {\n            Y.use('event', 'moodle-core-event', 'moodle-core-formchangechecker', () => {\n                Event.notifyFormSubmitAjax(form, true);\n                M.core_formchangechecker.reset_form_dirty_state();\n                resolve();\n            });\n        });\n    }\n\n    /**\n     * Click on a \"cancel\" button\n     */\n    processCancelButton() {\n        // Notify listeners that the form is about to be submitted (this will reset atto autosave).\n        this.notifyResetFormChanges()\n        .then(() => {\n            const event = this.trigger(this.events.FORM_CANCELLED);\n            if (!event.defaultPrevented) {\n                // By default removes the form from the DOM.\n                this.container.innerHTML = '';\n            }\n            return null;\n        })\n        .catch(null);\n    }\n\n    /**\n     * Update form contents\n     *\n     * @param {object} param\n     * @param {string} param.html\n     * @param {string} param.js\n     */\n    updateForm({html, js}) {\n        Templates.replaceNodeContents(this.container, html, js);\n    }\n\n    /**\n     * Validate form elements\n     * @return {Promise} promise that returns true if client-side validation has passed, false if there are errors\n     */\n    validateElements() {\n        // Notify listeners that the form is about to be submitted (this will reset atto autosave).\n        return this.notifyFormSubmitAjax()\n        .then(() => {\n            // Now the change events have run, see if there are any \"invalid\" form fields.\n            const invalid = [...this.container.querySelectorAll('[aria-invalid=\"true\"], .error')];\n\n            // If we found invalid fields, focus on the first one and do not submit via ajax.\n            if (invalid.length) {\n                invalid[0].focus();\n                return false;\n            }\n\n            return true;\n        });\n    }\n\n    /**\n     * Disable buttons during form submission\n     */\n    disableButtons() {\n        this.container.querySelectorAll('form input[type=\"submit\"]')\n            .forEach(el => el.setAttribute('disabled', true));\n    }\n\n    /**\n     * Enable buttons after form submission (on validation error)\n     */\n    enableButtons() {\n        this.container.querySelectorAll('form input[type=\"submit\"]')\n            .forEach(el => el.removeAttribute('disabled'));\n    }\n\n    /**\n     * Submit the form via AJAX call to the core_form_dynamic_form WS\n     */\n    async submitFormAjax() {\n        // If we found invalid fields, focus on the first one and do not submit via ajax.\n        if (!(await this.validateElements())) {\n            this.trigger(this.events.CLIENT_VALIDATION_ERROR, null, false);\n            return;\n        }\n        this.disableButtons();\n\n        // Convert all the form elements values to a serialised string.\n        const form = this.container.querySelector('form');\n        const formData = new URLSearchParams([...(new FormData(form)).entries()]);\n\n        // Now we can continue...\n        Ajax.call([{\n            methodname: 'core_form_dynamic_form',\n            args: {\n                formdata: formData.toString(),\n                form: this.formClass\n            }\n        }])[0]\n        .then((response) => {\n            if (!response.submitted) {\n                // Form was not submitted, it could be either because validation failed or because no-submit button was pressed.\n                this.updateForm({html: response.html, js: Fragment.processCollectedJavascript(response.javascript)});\n                this.enableButtons();\n                this.trigger(this.events.SERVER_VALIDATION_ERROR, null, false);\n            } else {\n                // Form was submitted properly.\n                const data = JSON.parse(response.data);\n                this.enableButtons();\n                this.notifyResetFormChanges()\n                .then(() => this.onSubmitSuccess(data))\n                .catch();\n            }\n            return null;\n        })\n        .catch(exception => this.onSubmitError(exception));\n    }\n}\n"],"names":["_interopRequireDefault","obj","__esModule","default","_defineProperty","key","value","arg","input","hint","prim","Symbol","toPrimitive","undefined","res","call","TypeError","String","Number","_toPrimitive","_toPropertyKey","Object","defineProperty","enumerable","configurable","writable","_ajax","_notification","_templates","_event","_yui","_fragment","_pending","_exports","constructor","container","formClass","this","FORM_SUBMITTED","FORM_CANCELLED","CLIENT_VALIDATION_ERROR","SERVER_VALIDATION_ERROR","ERROR","NOSUBMIT_BUTTON_PRESSED","SUBMIT_BUTTON_PRESSED","CANCEL_BUTTON_PRESSED","getStrings","component","catch","Notification","exception","addEventListener","e","target","matches","preventDefault","trigger","events","defaultPrevented","processCancelButton","processNoSubmitButton","submitFormAjax","load","args","arguments","length","formData","serialize","pendingPromise","Pending","getBody","then","resp","updateForm","resolve","eventName","CustomEvent","detail","cancelable","dispatchEvent","formDataString","Ajax","methodname","formdata","form","response","html","js","Fragment","processCollectedJavascript","javascript","onSubmitSuccess","innerHTML","onSubmitError","button","querySelector","URLSearchParams","FormData","entries","append","getAttribute","notifyFormSubmitAjax","disableButtons","toString","finally","skipValidation","Promise","Y","use","Event","notifyResetFormChanges","M","core_formchangechecker","reset_form_dirty_state","_ref","Templates","replaceNodeContents","validateElements","invalid","querySelectorAll","focus","forEach","el","setAttribute","enableButtons","removeAttribute","async","submitted","data","JSON","parse"],"mappings":"oQA4CmC,SAAAA,uBAAAC,KAAAA,OAAAA,KAAAA,IAAAC,WAAAD,IAAAE,CAAAA,QAAAF,IAAA,CAAA,SAAAG,gBAAAH,IAAAI,IAAAC,cAAAD,IAAA,SAAAE,KAAAF,IAAAA,IAAA,SAAAG,MAAAC,SAAA,iBAAAD,OAAAA,OAAAA,MAAAA,OAAAA,UAAAE,KAAAF,MAAAG,OAAAC,aAAA,QAAAC,IAAAH,UAAAI,IAAAJ,KAAAK,KAAAP,MAAAC,MAAAK,WAAAA,oBAAAA,WAAAA,IAAA,MAAA,IAAAE,UAAAP,+CAAAA,CAAAA,kBAAAA,KAAAQ,OAAAC,QAAAV,MAAA,CAAAW,CAAAZ,IAAA,UAAA,MAAAF,iBAAAA,IAAAA,IAAAY,OAAAZ,IAAA,CAAAe,CAAAf,QAAAJ,IAAAoB,OAAAC,eAAArB,IAAAI,IAAA,CAAAC,MAAAA,MAAAiB,YAAA,EAAAC,cAAAC,EAAAA,cAAAxB,IAAAI,KAAAC,MAAAL,GAAA,iFAPnCyB,MAAA1B,uBAAA0B,OACAC,cAAA3B,uBAAA2B,eACAC,WAAA5B,uBAAA4B,YACAC,OAAA7B,uBAAA6B,QAEAC,KAAA9B,uBAAA8B,MACAC,UAAA/B,uBAAA+B,WACAC,SAAAhC,uBAAAgC,UA8VC,OAAAC,SAAA9B,QAxVc,MA2CX+B,YAAYC,UAAWC,WAAWhC,gBApCzBiC,KAAA,SAAA,CAGLC,eAAgB,sCAGhBC,eAAgB,sCAEhBC,wBAAyB,8CAEzBC,wBAAyB,wCAGzBC,MAAO,8BAIPC,wBAAyB,uCAIzBC,sBAAuB,qCAIvBC,sBAAuB,uCAYvBR,KAAKD,UAAYA,UACjBC,KAAKF,UAAYA,WAGjB,EAAAW,KAAAA,aAAW,CACP,CAACzC,IAAK,cAAe0C,UAAW,UAChC,CAAC1C,IAAK,YAAa0C,UAAW,YAC/BC,MAAMC,cAAY9C,QAAC+C,WAGtBb,KAAKF,UAAUgB,iBAAiB,SAASC,IACrC,GAAIA,EAAEC,OAAOC,QAAQ,wCAAyC,CAC1DF,EAAEG,iBACYlB,KAAKmB,QAAQnB,KAAKoB,OAAOZ,sBAAuBO,EAAEC,QACrDK,kBACPrB,KAAKsB,qBAEZ,MAAM,GAAIP,EAAEC,OAAOC,QAAQ,+CAAgD,CACxEF,EAAEG,iBACYlB,KAAKmB,QAAQnB,KAAKoB,OAAOd,wBAAyBS,EAAEC,QACvDK,kBACPrB,KAAKuB,sBAAsBR,EAAEC,OAErC,KAGJhB,KAAKF,UAAUgB,iBAAiB,UAAUC,IACtC,GAAIA,EAAEC,OAAOC,QAAQ,QAAS,CAC1BF,EAAEG,iBACYlB,KAAKmB,QAAQnB,KAAKoB,OAAOb,uBAC5Bc,kBACPrB,KAAKwB,gBAEb,IAER,CASAC,OAAkB,IAAbC,KAAIC,UAAAC,OAAA,QAAApD,IAAAmD,UAAA,GAAAA,UAAA,GAAG,KACR,MAAME,UAAW,EAAAC,MAAAA,WAAUJ,MAAQ,CAAA,GAC7BK,eAAiB,IAAIC,SAAOlE,QAAC,8BACnC,OAAOkC,KAAKiC,QAAQJ,UACnBK,MAAMC,MAASnC,KAAKoC,WAAWD,QAC/BD,KAAKH,eAAeM,QACzB,CAWAlB,QAAQmB,WACJ,MAAMvB,EAAI,IAAIwB,YAAYD,UAAW,CAACE,OADjBb,UAAAC,OAAA,QAAApD,IAAAmD,UAAA,GAAAA,UAAA,GAAG,KACsBc,aADNd,UAAAC,OAAA,QAAApD,IAAAmD,UAAA,KAAAA,UAAA,KAGxC,OADA3B,KAAKF,UAAU4C,cAAc3B,GACtBA,CACX,CAcAD,mBACId,KAAKF,UAAUgB,oBAAiBa,UACpC,CASAM,QAAQU,gBACJ,OAAOC,MAAI9E,QAACY,KAAK,CAAC,CACdmE,WAAY,yBACZnB,KAAM,CACFoB,SAAUH,eACVI,KAAM/C,KAAKD,cAEf,GACHmC,MAAKc,WACK,CAACC,KAAMD,SAASC,KAAMC,GAAIC,UAAQrF,QAACsF,2BAA2BJ,SAASK,eAEtF,CAOAC,gBAAgBN,UACEhD,KAAKmB,QAAQnB,KAAKoB,OAAOnB,eAAgB+C,UAC7C3B,mBAQVrB,KAAKF,UAAUyD,UAAY,GAC/B,CAQAC,cAAc3C,WACIb,KAAKmB,QAAQnB,KAAKoB,OAAOf,MAAOQ,WACpCQ,kBAIVT,cAAAA,QAAaC,UAAUA,UAC3B,CAQAU,sBAAsBkC,QAClB,MAAM1B,eAAiB,IAAIC,SAAOlE,QAAC,kCAC7BiF,KAAO/C,KAAKF,UAAU4D,cAAc,QACpC7B,SAAW,IAAI8B,gBAAgB,IAAK,IAAIC,SAASb,MAAOc,YAC9DhC,SAASiC,OAAOL,OAAOM,aAAa,QAASN,OAAOM,aAAa,UAEjE/D,KAAKgE,sBAAqB,GACzB9B,MAAK,KAEFlC,KAAKiE,iBACEjE,KAAKiC,QAAQJ,SAASqC,eAEhChC,MAAMC,MAASnC,KAAKoC,WAAWD,QAC/BgC,QAAQpC,eAAeM,SACvB1B,OAAME,WAAab,KAAKwD,cAAc3C,YAC3C,CAWAmD,uBAA6C,IAAxBI,eAAczC,UAAAC,OAAA,QAAApD,IAAAmD,UAAA,IAAAA,UAAA,GAC/B,MAAMoB,KAAO/C,KAAKF,UAAU4D,cAAc,QAC1C,OAAO,IAAIW,SAAQhC,UACfiC,KAACxG,QAACyG,IAAI,QAAS,oBAAqB,iCAAiC,WACjEC,OAAAA,QAAMR,qBAAqBjB,KAAMqB,gBACjC/B,SACJ,GAAE,GAEV,CAOAoC,yBACI,MAAM1B,KAAO/C,KAAKF,UAAU4D,cAAc,QAC1C,OAAO,IAAIW,SAAQhC,UACfiC,KAACxG,QAACyG,IAAI,QAAS,oBAAqB,iCAAiC,KACjEC,OAAAA,QAAMR,qBAAqBjB,MAAM,GACjC2B,EAAEC,uBAAuBC,yBACzBvC,SAAS,GACX,GAEV,CAKAf,sBAEItB,KAAKyE,yBACJvC,MAAK,KACYlC,KAAKmB,QAAQnB,KAAKoB,OAAOlB,gBAC5BmB,mBAEPrB,KAAKF,UAAUyD,UAAY,IAExB,QAEV5C,MAAM,KACX,CASAyB,WAAUyC,MAAa,IAAZ5B,KAACA,KAAIC,GAAEA,IAAG2B,KACjBC,WAAShH,QAACiH,oBAAoB/E,KAAKF,UAAWmD,KAAMC,GACxD,CAMA8B,mBAEI,OAAOhF,KAAKgE,uBACX9B,MAAK,KAEF,MAAM+C,QAAU,IAAIjF,KAAKF,UAAUoF,iBAAiB,kCAGpD,OAAID,QAAQrD,SACRqD,QAAQ,GAAGE,SACJ,EAGA,GAEnB,CAKAlB,iBACIjE,KAAKF,UAAUoF,iBAAiB,6BAC3BE,SAAQC,IAAMA,GAAGC,aAAa,YAAY,IACnD,CAKAC,gBACIvF,KAAKF,UAAUoF,iBAAiB,6BAC3BE,SAAQC,IAAMA,GAAGG,gBAAgB,aAC1C,CAKAC,uBAEI,UAAYzF,KAAKgF,mBAEb,YADAhF,KAAKmB,QAAQnB,KAAKoB,OAAOjB,wBAAyB,MAAM,GAG5DH,KAAKiE,iBAGL,MAAMlB,KAAO/C,KAAKF,UAAU4D,cAAc,QACpC7B,SAAW,IAAI8B,gBAAgB,IAAK,IAAIC,SAASb,MAAOc,YAG9DjB,MAAI9E,QAACY,KAAK,CAAC,CACPmE,WAAY,yBACZnB,KAAM,CACFoB,SAAUjB,SAASqC,WACnBnB,KAAM/C,KAAKD,cAEf,GACHmC,MAAMc,WACH,GAAKA,SAAS0C,UAKP,CAEH,MAAMC,KAAOC,KAAKC,MAAM7C,SAAS2C,MACjC3F,KAAKuF,gBACLvF,KAAKyE,yBACJvC,MAAK,IAAMlC,KAAKsD,gBAAgBqC,QAChChF,OACL,MAVIX,KAAKoC,WAAW,CAACa,KAAMD,SAASC,KAAMC,GAAIC,UAAQrF,QAACsF,2BAA2BJ,SAASK,cACvFrD,KAAKuF,gBACLvF,KAAKmB,QAAQnB,KAAKoB,OAAOhB,wBAAyB,MAAM,GAS5D,OAAO,IAAI,IAEdO,OAAME,WAAab,KAAKwD,cAAc3C,YAC3C,GACHjB,SAAA9B,OAAA"}