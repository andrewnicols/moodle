define ("core_form/events",["exports","core/event_dispatcher","jquery","core/yui"],function(a,b,c,d){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.notifyFieldValidationFailure=a.notifyFormSubmittedByJavascript=a.eventTypes=void 0;c=e(c);d=e(d);function e(a){return a&&a.__esModule?a:{default:a}}var f={formSubmittedByJavascript:"core_form/submittedByJavascript",formFieldValidationFailed:"core_form/fieldValidationFailed"};a.eventTypes=f;a.notifyFormSubmittedByJavascript=function notifyFormSubmittedByJavascript(a){var c=1<arguments.length&&arguments[1]!==void 0?arguments[1]:!1,d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:!1;if(c){window.skipClientValidation=!0}var e=(0,b.dispatchEvent)(f.formSubmittedByJavascript,{skipValidation:c,fallbackHandled:d},a);if(c){window.skipClientValidation=!1}return e};a.notifyFieldValidationFailure=function notifyFieldValidationFailure(a,c){return(0,b.dispatchEvent)(f.formFieldValidationFailed,{message:c},a,{cancelable:!0})};var g=!1;if(!g){d.default.use("event","moodle-core-event",function(){document.addEventListener(f.formSubmittedByJavascript,function(a){if(a.detail.fallbackHandled){return}if(a.skipValidation){window.skipClientValidation=!0}var b=d.default.one(a.target);b.fire(M.core.event.FORM_SUBMIT_AJAX,{currentTarget:b,fallbackHandled:!0});if(a.skipValidation){window.skipClientValidation=!1}})});document.addEventListener(f.formFieldValidationFailed,function(a){var b=c.default.Event("core_form-field-validation");(0,c.default)(a.target).trigger(b,a.detail.message)});g=!0}});
//# sourceMappingURL=events.min.js.map
