{"version":3,"sources":["../src/defaultcustom.js"],"names":["define","$","on","onChangeSelect","event","element","target","defaultvalue","JSON","parse","attr","customvalue","type","form","closest","elementName","replace","newvalue","prop","find","val","day","month","year","hour","minute"],"mappings":"AAuBAA,OAAM,2BAAC,CAAC,QAAD,CAAD,CAAa,SAASC,CAAT,CAAY,CA0B3BA,CAAC,CAAC,MAAD,CAAD,CAAUC,EAAV,CAAa,QAAb,CADe,gCACf,CAzBqB,QAAjBC,CAAAA,cAAiB,CAASC,KAAT,CAAgB,CACjC,GAAIC,CAAAA,OAAO,CAAGJ,CAAC,CAACG,KAAK,CAACE,MAAP,CAAf,CACIC,YAAY,CAAGC,IAAI,CAACC,KAAL,CAAWJ,OAAO,CAACK,IAAR,CAAa,mBAAb,CAAX,CADnB,CAEIC,WAAW,CAAGH,IAAI,CAACC,KAAL,CAAWJ,OAAO,CAACK,IAAR,CAAa,kBAAb,CAAX,CAFlB,CAGIE,IAAI,CAAGP,OAAO,CAACK,IAAR,CAAa,WAAb,CAHX,CAIIG,IAAI,CAAGR,OAAO,CAACS,OAAR,CAAgB,MAAhB,CAJX,CAKIC,WAAW,CAAGV,OAAO,CAACK,IAAR,CAAa,MAAb,EAAqBM,OAArB,CAA6B,gBAA7B,CAA+C,SAA/C,CALlB,CAMIC,QAAQ,CAAGZ,OAAO,CAACa,IAAR,CAAa,SAAb,EAA0BP,WAA1B,CAAwCJ,YANvD,CAQA,GAAa,MAAT,GAAAK,IAAJ,CAAqB,CACjBC,IAAI,CAACM,IAAL,CAAU,WAAYJ,WAAZ,CAA0B,KAApC,EAA0CK,GAA1C,CAA8CH,QAA9C,CACH,CAFD,IAEO,IAAa,eAAT,GAAAL,IAAJ,CAA8B,CACjCC,IAAI,CAACM,IAAL,CAAU,WAAYJ,WAAZ,CAA0B,UAApC,EAA+CK,GAA/C,CAAmDH,QAAQ,CAACI,GAA5D,EACAR,IAAI,CAACM,IAAL,CAAU,WAAYJ,WAAZ,CAA0B,YAApC,EAAiDK,GAAjD,CAAqDH,QAAQ,CAACK,KAA9D,EACAT,IAAI,CAACM,IAAL,CAAU,WAAYJ,WAAZ,CAA0B,WAApC,EAAgDK,GAAhD,CAAoDH,QAAQ,CAACM,IAA7D,CACH,CAJM,IAIA,IAAa,oBAAT,GAAAX,IAAJ,CAAmC,CACtCC,IAAI,CAACM,IAAL,CAAU,WAAYJ,WAAZ,CAA0B,UAApC,EAA+CK,GAA/C,CAAmDH,QAAQ,CAACI,GAA5D,EACAR,IAAI,CAACM,IAAL,CAAU,WAAYJ,WAAZ,CAA0B,YAApC,EAAiDK,GAAjD,CAAqDH,QAAQ,CAACK,KAA9D,EACAT,IAAI,CAACM,IAAL,CAAU,WAAYJ,WAAZ,CAA0B,WAApC,EAAgDK,GAAhD,CAAoDH,QAAQ,CAACM,IAA7D,EACAV,IAAI,CAACM,IAAL,CAAU,WAAYJ,WAAZ,CAA0B,WAApC,EAAgDK,GAAhD,CAAoDH,QAAQ,CAACO,IAA7D,EACAX,IAAI,CAACM,IAAL,CAAU,WAAYJ,WAAZ,CAA0B,aAApC,EAAkDK,GAAlD,CAAsDH,QAAQ,CAACQ,MAA/D,CACH,CACJ,CAGD,CACH,CA3BK,CAAN","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Functionality for the form element defaultcustom\n *\n * @module     core_form/defaultcustom\n * @copyright  2017 Marina Glancy\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n * @since      3.3\n */\ndefine(['jquery'], function($) {\n    var onChangeSelect = function(event) {\n        var element = $(event.target),\n            defaultvalue = JSON.parse(element.attr('data-defaultvalue')),\n            customvalue = JSON.parse(element.attr('data-customvalue')),\n            type = element.attr('data-type'),\n            form = element.closest('form'),\n            elementName = element.attr('name').replace(/\\[customize\\]$/, '[value]'),\n            newvalue = element.prop('checked') ? customvalue : defaultvalue;\n\n        if (type === 'text') {\n            form.find('[name=\"' + elementName + '\"]').val(newvalue);\n        } else if (type === 'date_selector') {\n            form.find('[name=\"' + elementName + '[day]\"]').val(newvalue.day);\n            form.find('[name=\"' + elementName + '[month]\"]').val(newvalue.month);\n            form.find('[name=\"' + elementName + '[year]\"]').val(newvalue.year);\n        } else if (type === 'date_time_selector') {\n            form.find('[name=\"' + elementName + '[day]\"]').val(newvalue.day);\n            form.find('[name=\"' + elementName + '[month]\"]').val(newvalue.month);\n            form.find('[name=\"' + elementName + '[year]\"]').val(newvalue.year);\n            form.find('[name=\"' + elementName + '[hour]\"]').val(newvalue.hour);\n            form.find('[name=\"' + elementName + '[minute]\"]').val(newvalue.minute);\n        }\n    };\n\n    var selector = 'input[data-defaultcustom=true]';\n    $('body').on('change', selector, onChangeSelect);\n});\n"],"file":"defaultcustom.min.js"}