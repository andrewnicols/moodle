YUI.add("moodle-form-shortforms",function(s,e){var r,a,l,i,n,t,f;function o(){o.superclass.constructor.apply(this,arguments)}r=".collapsible-actions .collapseexpand",a=".collapsed",l="fieldset.collapsible",i="fieldset.collapsible .fheader",n="legend.ftoggler",t="collapse-all",f="fheader",s.extend(o,s.Base,{form:null,shortforms:null,initializer:function(){var e,t,o;this.form=s.one("#"+this.get("formid")),this.form&&(window.console.log("The moodle-form-shortforms module has been deprecated and replaced with core_forms/shortforms"),require(["core_form/shortforms"],function(e){(this.shortforms=e).init()}.bind(this)),this.form.all(l).each(this.process_fieldset,this),(e=this.form.one(r))&&((t=s.Node.create('<a href="#"></a>')).setHTML(e.getHTML()),t.setAttribute("class",e.getAttribute("class")),t.setAttribute("role","button"),o=[],this.form.all(i).each(function(e){o[o.length]=e.generateID()}),t.setAttribute("aria-controls",o.join(" ")),t.setAttribute("data-action","core_form-shortforms-toggleall"),e.replace(t)))},process_fieldset:function(e){var t=e.one(n),o=s.Node.create('<a href="#"></a>');return o.addClass(f),o.appendChild(t.get("firstChild")),o.setAttribute("role","button"),o.setAttribute("aria-controls",e.generateID()),o.setAttribute("data-action","core_form-shortforms-toggle-section"),t.ancestor(a)?e.setAttribute("aria-expanded","false"):e.setAttribute("aria-expanded","true"),t.prepend(o),this},set_state:function(e,t){t?this.shortforms.expandFieldset(e.getDOMNode()):this.shortforms.collapseFieldset(e.getDOMNode())},set_state_all:function(e){e.target.hasClass(t)?this.shortforms.expandForm(e.target.getDOMNode()):this.shortforms.collapseForm(e.target.getDOMNode())},switch_state:function(e){e.preventDefault(),this.shortforms.toggleFieldset(e.target.getDOMNode())},update_btns:function(){window.console.log("The update_btns method is no longer available.")},expand_fieldset:function(e){e.preventDefault(),this.shortforms.expandFieldset(e.target.getDOMNode())}},{NAME:"moodle-form-shortforms",ATTRS:{formid:{value:null}}}),M.form=M.form||{},M.form.shortforms=M.form.shortforms||function(e){return new o(e)}},"@VERSION@",{requires:["node","base","selector-css3","moodle-core-event"]});