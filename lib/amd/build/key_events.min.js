define ("core/key_events",["exports","jquery","core/local/event/dispatcher"],function(a,b,c){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.define=a.legacyEventMap=a.eventTypes=void 0;b=function(a){return a&&a.__esModule?a:{default:a}}(b);function d(a,b){return j(a)||h(a,b)||f(a,b)||e()}function e(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(a,b){if(!a)return;if("string"==typeof a)return g(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor)c=a.constructor.name;if("Map"===c||"Set"===c)return Array.from(c);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return g(a,b)}function g(a,b){if(null==b||b>a.length)b=a.length;for(var c=0,d=Array(b);c<b;c++){d[c]=a[c]}return d}function h(a,b){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(a)))return;var c=[],d=!0,e=!1,f=void 0;try{for(var g=a[Symbol.iterator](),h;!(d=(h=g.next()).done);d=!0){c.push(h.value);if(b&&c.length===b)break}}catch(a){e=!0;f=a}finally{try{if(!d&&null!=g["return"])g["return"]()}finally{if(e)throw f}}return c}function j(a){if(Array.isArray(a))return a}var k={activated:"core/key_events:activated",arrowDownPressed:"core/key_events:arrowDownPressed",arrowUpPressed:"core/key_events:arrowUpPressed",asterixKeyPressed:"core/key_events:asterixKeyPressed",endKeyPressed:"core/key_events:endKeyPressed",enterKeyPressed:"core/key_events:enterKeyPressed",escapeKeyPressed:"core/key_events:escapeKeyPressed",homeKeyPressed:"core/key_events:homeKeyPressed",keyboardActivated:"core/key_events:keyboardActivated",metaPageDown:"core/key_events:metaPageDown",metaPageUp:"core/key_events:metaPageUp",nextKeyPressed:"core/key_events:nextKeyPressed",previousKeyPressed:"core/key_events:previousKeyPressed"};a.eventTypes=k;var l=function(a){return a.shiftKey||a.metaKey||a.altKey||a.ctrlKey},m={keydown:[{customEventName:k.homeKeyPressed,filter:function filter(a){return"Home"===a.code}},{customEventName:k.endKeyPressed,filter:function filter(a){return"End"===a.code}},{customEventName:k.escapeKeyPressed,filter:function filter(a){return"Escape"===a.code}},{customEventName:k.asterixKeyPressed,filter:function filter(a){return"*"===a.key}},{customEventName:k.keyboardActivated,filter:function filter(a){if(l(a)){return!1}if("Enter"===a.code){return!0}if("Space"===a.code){return!0}return!1}},{customEventName:k.enterKeyPressed,filter:function filter(a){return"Enter"===a.code&&!l(a)}},{customEventName:k.arrowDownPressed,filter:function filter(a){return"ArrowDown"===a.code&&!l(a)}},{customEventName:k.arrowUpPressed,filter:function filter(a){return"ArrowUp"===a.code&&!l(a)}},{filter:function filter(a){return"ArrowLeft"===a.code&&!l(a)},customEventNameFunction:function customEventNameFunction(){if("ltr"===document.querySelector("html").dir){return k.previousKeyPressed}else{return k.nextKeyPressed}}},{filter:function filter(a){return"ArrowRight"===a.code&&!l(a)},customEventNameFunction:function customEventNameFunction(){if("ltr"===document.querySelector("html").dir){return k.nextKeyPressed}else{return k.previousKeyPressed}}},{customEventName:k.metaPageUp,filter:function filter(a){if("PageUp"!==a.code){return!1}return a.ctrlKey}},{customEventName:k.metaPageDown,filter:function filter(a){if("PageDown"!==a.code){return!1}return a.ctrlKey}}],"core/key_events:keyboardActivated":[{customEventName:k.activated,filter:function filter(){return!0}}],click:[{customEventName:k.activated,filter:function filter(){return!0}}]},n={"cie:activate":k.activated,"cie:asterix":k.asterixKeyPressed,"cie:ctrlPageDown":k.metaPageDown,"cie:ctrlPageUp":k.metaPageUp,"cie:down":k.arrowDownPressed,"cie:end":k.endKeyPressed,"cie:enter":k.enterKeyPressed,"cie:escape":k.escapeKeyPressed,"cie:home":k.homeKeyPressed,"cie:keyboardactivate":k.keyboardActivated,"cie:next":k.nextKeyPressed,"cie:previous":k.previousKeyPressed,"cie:up":k.arrowUpPressed};a.legacyEventMap=n;var o=!1;if(!o){o=!0;for(var p=function(){var a=d(i[q],2),b=a[0],f=a[1];document.addEventListener(b,function(a){f.forEach(function(b){if(!b.filter(a)){return}var d=b.customEventName;if(b.hasOwnProperty(b.customEventNameFunction)){d=b.customEventNameFunction(a)}var e=(0,c.dispatchEvent)(d,{},a.target,{cancelable:a.cancelable});if(e.defaultPrevented){a.preventDefault()}return})})},q=0,i=Object.entries(m);q<i.length;q++){p()}}a.define=function define(a,c){if(!c.length){return}window.console.warn("The custom_interaction_events::define() function has been deprecated. "+"The use of ".concat(c.join(", ")," events should be updated."));c.forEach(function(c){if(!n.hasOwnProperty(c)){return}var d="".concat(n[c],".cie");(0,b.default)(a).off(d).on(d,function(a){(0,b.default)(a.target).trigger(c,[{originalEvent:a}])})})}});
//# sourceMappingURL=key_events.min.js.map
