{"version":3,"sources":["../src/confirm.js"],"names":["confirmedPromise","title","question","saveLabel","Promise","resolve","reject","registerConfirmationListeners","document","addEventListener","e","confirmRequest","target","closest","preventDefault","dataset","confirmationTitle","confirmationQuestion","confirmationYesButton","then","window","location","href","confirmationDestination","catch"],"mappings":"yEAEMA,CAAAA,CAAgB,CAAG,SAACC,CAAD,CAAQC,CAAR,CAAkBC,CAAlB,QAAgC,IAAIC,CAAAA,OAAJ,CAAY,SAACC,CAAD,CAAUC,CAAV,CAAqB,CACtF,iBAAWL,CAAX,CAAkBC,CAAlB,CAA4BC,CAA5B,CAAuCE,CAAvC,CAAgDC,CAAhD,CACH,CAFwD,CAAhC,C,CA0BzB,CApBsC,QAAhCC,CAAAA,6BAAgC,EAAM,CACxCC,QAAQ,CAACC,gBAAT,CAA0B,OAA1B,CAAmC,SAAAC,CAAC,CAAI,CACpC,GAAMC,CAAAA,CAAc,CAAGD,CAAC,CAACE,MAAF,CAASC,OAAT,CAAiB,+BAAjB,CAAvB,CACA,GAAIF,CAAJ,CAAoB,CAChBD,CAAC,CAACI,cAAF,GACAd,CAAgB,CACZW,CAAc,CAACI,OAAf,CAAuBC,iBADX,CAEZL,CAAc,CAACI,OAAf,CAAuBE,oBAFX,CAGZN,CAAc,CAACI,OAAf,CAAuBG,qBAHX,CAAhB,CAKCC,IALD,CAKM,UAAM,CACRC,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAuBX,CAAc,CAACI,OAAf,CAAuBQ,uBAEjD,CARD,EASCC,KATD,EAUH,CACJ,CAfD,CAgBH,CAGD,G","sourcesContent":["import {saveCancel} from 'core/notification';\n\nconst confirmedPromise = (title, question, saveLabel) => new Promise((resolve, reject) => {\n    saveCancel(title, question, saveLabel, resolve, reject);\n});\n\n\n// The new listener for all confirmation modals:\nconst registerConfirmationListeners = () => {\n    document.addEventListener('click', e => {\n        const confirmRequest = e.target.closest('[data-confirmation=\"modal\"]');\n        if (confirmRequest) {\n            e.preventDefault();\n            confirmedPromise(\n                confirmRequest.dataset.confirmationTitle,\n                confirmRequest.dataset.confirmationQuestion,\n                confirmRequest.dataset.confirmationYesButton\n            )\n            .then(() => {\n                window.location.href = confirmRequest.dataset.confirmationDestination;\n                return;\n            })\n            .catch();\n        }\n    });\n};\n\n// Register the listner:\nregisterConfirmationListeners();\n"],"file":"confirm.min.js"}