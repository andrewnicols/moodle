define("core/modal_permalink",["exports","./modal","./modal_factory","./modal_registry","core/copy_to_clipboard"],(function(_exports,_modal,_modal_factory,_modal_registry,_copy_to_clipboard){function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}
/**
   * Permalink modal.
   *
   * @module     core/modal_permalink
   * @copyright  2023 Stephan Robotta <stephan.robotta@bfh.ch>
   * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
   */Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.default=void 0,_modal=_interopRequireDefault(_modal),_modal_factory=_interopRequireDefault(_modal_factory),_modal_registry=_interopRequireDefault(_modal_registry);class PermalinkModal extends _modal.default{constructor(){super(...arguments),this.setRemoveOnClose(!0),this.show()}registerEventListeners(){super.registerEventListeners(...arguments),this.getRoot().get(0).addEventListener("click",(e=>{e.target.closest('[data-action="copytoclipboard"]')&&this.getRoot().get(0).contains(e.target)&&setTimeout(this.destroy.bind(this))}))}static async create(_ref,title){let{link:link}=_ref;_modal_registry.default.get(this.TYPE)||_modal_registry.default.register(this.TYPE,this,this.TEMPLATE);(await _modal_factory.default.create({type:this.TYPE,templateContext:{link:link}})).setTitle(title)}}return _exports.default=PermalinkModal,_defineProperty(PermalinkModal,"TYPE","core/permalink"),_defineProperty(PermalinkModal,"TEMPLATE","core/modal_permalink"),_exports.default}));

//# sourceMappingURL=modal_permalink.min.js.map