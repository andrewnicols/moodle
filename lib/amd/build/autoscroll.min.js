define ("core/autoscroll",["jquery"],function($){var autoscroll={SCROLL_THRESHOLD:30,SCROLL_FREQUENCY:1e3/60,SCROLL_SPEED:.5,scrollingId:null,scrollAmount:0,callback:null,start:function start(callback){$(window).on("mousemove",autoscroll.mouseMove);$(window).on("touchmove",autoscroll.touchMove);autoscroll.callback=callback},stop:function stop(){$(window).off("mousemove",autoscroll.mouseMove);$(window).off("touchmove",autoscroll.touchMove);if(null!==autoscroll.scrollingId){autoscroll.stopScrolling()}},touchMove:function touchMove(e){for(var i=0;i<e.changedTouches.length;i++){autoscroll.handleMove(e.changedTouches[i].clientX,e.changedTouches[i].clientY)}},mouseMove:function mouseMove(e){autoscroll.handleMove(e.clientX,e.clientY)},handleMove:function handleMove(clientX,clientY){if(clientY<autoscroll.SCROLL_THRESHOLD){autoscroll.scrollAmount=-Math.min(autoscroll.SCROLL_THRESHOLD-clientY,autoscroll.SCROLL_THRESHOLD)}else if(clientY>$(window).height()-autoscroll.SCROLL_THRESHOLD){autoscroll.scrollAmount=Math.min(clientY-($(window).height()-autoscroll.SCROLL_THRESHOLD),autoscroll.SCROLL_THRESHOLD)}else{autoscroll.scrollAmount=0}if(autoscroll.scrollAmount&&null===autoscroll.scrollingId){autoscroll.startScrolling()}else if(!autoscroll.scrollAmount&&null!==autoscroll.scrollingId){autoscroll.stopScrolling()}},startScrolling:function startScrolling(){var maxScroll=$(document).height()-$(window).height();autoscroll.scrollingId=window.setInterval(function(){var y=$(window).scrollTop(),offset=Math.round(autoscroll.scrollAmount*autoscroll.SCROLL_SPEED);if(0>y+offset){offset=-y}if(y+offset>maxScroll){offset=maxScroll-y}if(0===offset){return}$(window).scrollTop(y+offset);var realOffset=$(window).scrollTop()-y;if(0==realOffset){return}if(autoscroll.callback){autoscroll.callback(realOffset)}},autoscroll.SCROLL_FREQUENCY)},stopScrolling:function stopScrolling(){window.clearInterval(autoscroll.scrollingId);autoscroll.scrollingId=null}};return{start:autoscroll.start,stop:autoscroll.stop}});
//# sourceMappingURL=autoscroll.min.js.map
