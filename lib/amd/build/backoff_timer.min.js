define ("core/backoff_timer",function(){var BackoffTimer=function(callback,backoffFunction){this.callback=callback;this.backOffFunction=backoffFunction};BackoffTimer.prototype.callback=null;BackoffTimer.prototype.backOffFunction=null;BackoffTimer.prototype.time=null;BackoffTimer.prototype.timeout=null;BackoffTimer.prototype.generateNextTime=function(){var newTime=this.backOffFunction(this.time);this.time=newTime;return newTime};BackoffTimer.prototype.reset=function(){this.time=null;this.stop();return this};BackoffTimer.prototype.stop=function(){if(this.timeout){window.clearTimeout(this.timeout);this.timeout=null}return this};BackoffTimer.prototype.start=function(){if(!this.timeout){var time=this.generateNextTime();this.timeout=window.setTimeout(function(){this.callback();this.stop();this.start()}.bind(this),time)}return this};BackoffTimer.prototype.restart=function(){return this.reset().start()};BackoffTimer.getIncrementalCallback=function(minamount,incrementamount,maxamount,timeoutamount){return function(time){if(!time){return minamount}if(time+incrementamount>maxamount){return timeoutamount}return time+incrementamount}};return BackoffTimer});
//# sourceMappingURL=backoff_timer.min.js.map
