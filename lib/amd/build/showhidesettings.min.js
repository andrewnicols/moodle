define ("core/showhidesettings",["jquery"],function($){var dependencies;function isCheckboxHiddenElement($el){return $el.is("input[type=hidden]")&&$el.siblings("input[type=checkbox][name=\""+$el.attr("name")+"\"]").length}function isWrongRadioButton($el,value){return $el.is("input[type=radio]")&&$el.attr("value")!==value}function isCheckedRelevant($el,value){return!isCheckboxHiddenElement($el)&&!isWrongRadioButton($el,value)}function isUncheckedRadioButton($el){return $el.is("input[type=radio]")&&!$el.prop("checked")}function isUncheckedCheckbox($el){return $el.is("input[type=checkbox]")&&!$el.prop("checked")}function isMultiSelect($el){return $el.is("select")&&$el.prop("multiple")}function multiSelectMatches($el,values){var selected=$el.val()||[];if(!values.length){return!1}if(selected.length!==values.length){return!1}for(var i in selected){if(selected.hasOwnProperty(i)){if(-1===values.indexOf(selected[i])){return!1}}}return!0}var depFns={notchecked:function($dependon,value){var hide=!1;value=value+"";$dependon.each(function(idx,el){var $el=$(el);if(isCheckedRelevant($el,value)){hide=hide||!$el.prop("checked")}});return hide},checked:function($dependon,value){var hide=!1;value=value+"";$dependon.each(function(idx,el){var $el=$(el);if(isCheckedRelevant($el,value)){hide=hide||$el.prop("checked")}});return hide},noitemselected:function($dependon){var hide=!1;$dependon.each(function(idx,el){var $el=$(el);hide=hide||-1===$el.prop("selectedIndex")});return hide},eq:function($dependon,value){var hide=!1,hiddenVal=!1;value=value+"";$dependon.each(function(idx,el){var $el=$(el);if(isUncheckedRadioButton($el)){return}if(isCheckboxHiddenElement($el)){hiddenVal=$el.val()===value;return}if(isUncheckedCheckbox($el)){hide=hide||hiddenVal;return}if(isMultiSelect($el)){var values=value.split("|");hide=multiSelectMatches($el,values);return}hide=hide||$el.val()===value});return hide},in:function($dependon,value){var hide=!1,hiddenVal=!1,values=value.split("|");$dependon.each(function(idx,el){var $el=$(el);if(isUncheckedRadioButton($el)){return}if(isCheckboxHiddenElement($el)){hiddenVal=-1<values.indexOf($el.val());return}if(isUncheckedCheckbox($el)){hide=hide||hiddenVal;return}if(isMultiSelect($el)){hide=multiSelectMatches($el,values);return}hide=hide||-1<values.indexOf($el.val())});return hide},defaultCondition:function($dependon,value){var hide=!1,hiddenVal=!1;value=value+"";$dependon.each(function(idx,el){var $el=$(el);if(isUncheckedRadioButton($el)){return}if(isCheckboxHiddenElement($el)){hiddenVal=$el.val()!==value;return}if(isUncheckedCheckbox($el)){hide=hide||hiddenVal;return}if(isMultiSelect($el)){var values=value.split("|");hide=!multiSelectMatches($el,values);return}hide=hide||$el.val()!==value});return hide}};function getElementsByName(name){return $("[name=\""+name+"\"],[name^=\""+name+"[\"]")}function checkDependency($dependon,condition,value){if("function"==typeof depFns[condition]){return depFns[condition]($dependon,value)}return depFns.defaultCondition($dependon,value)}function updateDependencies(){var toHide={};$.each(dependencies,function(dependonname){var dependon=getElementsByName(dependonname);$.each(dependencies[dependonname],function(condition,values){$.each(values,function(value,elements){var hide=checkDependency(dependon,condition,value);$.each(elements,function(idx,elToHide){if(toHide.hasOwnProperty(elToHide)){toHide[elToHide]=toHide[elToHide]||hide}else{toHide[elToHide]=hide}})})})});$.each(toHide,function(elToHide,hide){getElementsByName(elToHide).each(function(idx,el){var $parent=$(el).closest(".form-item");if($parent.length){if(hide){$parent.hide()}else{$parent.show()}}})})}function initHandlers(){$.each(dependencies,function(depname){var $el=getElementsByName(depname);if($el.length){$el.on("change",updateDependencies)}});updateDependencies()}function hideDependencyInfo(){$(".form-dependenton").hide()}return{init:function(opts){dependencies=opts.dependencies;initHandlers();hideDependencyInfo()}}});
//# sourceMappingURL=showhidesettings.min.js.map
