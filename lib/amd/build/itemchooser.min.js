function _typeof(a){"@babel/helpers - typeof";if("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator){_typeof=function(a){return typeof a}}else{_typeof=function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a}}return _typeof(a)}define ("core/itemchooser",["exports","core/modal_factory","core/templates"],function(a,b,c){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.default=void 0;c=e(c);function d(){if("function"!=typeof WeakMap)return null;var a=new WeakMap;d=function(){return a};return a}function e(a){if(a&&a.__esModule){return a}if(null===a||"object"!==_typeof(a)&&"function"!=typeof a){return{default:a}}var b=d();if(b&&b.has(a)){return b.get(a)}var c={},e=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a){if(Object.prototype.hasOwnProperty.call(a,f)){var g=e?Object.getOwnPropertyDescriptor(a,f):null;if(g&&(g.get||g.set)){Object.defineProperty(c,f,g)}else{c[f]=a[f]}}}c.default=a;if(b){b.set(a,c)}return c}function f(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(a){c(a);return}if(h.done){b(i)}else{Promise.resolve(i).then(d,e)}}function g(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var i=a.apply(b,c);function g(a){f(i,d,e,g,h,"next",a)}function h(a){f(i,d,e,g,h,"throw",a)}g(void 0)})}}function h(a,b){if(!(a instanceof b)){throw new TypeError("Cannot call a class as a function")}}function i(a,b){for(var c=0,d;c<b.length;c++){d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;if("value"in d)d.writable=!0;Object.defineProperty(a,d.key,d)}}function j(a,b,c){if(b)i(a.prototype,b);if(c)i(a,c);return a}var k=function(){function a(){var b=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};h(this,a);this.chooserConfig=b}j(a,[{key:"getPopulatedTab",value:function getPopulatedTab(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{items:[],filterFunction:null,visibleFunction:null,visible:!1},b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:[];a.items=b;if(a.filterFunction){a.items=a.items.filter(a.filterFunction)}if(a.visibleFunction){a.visible=a.visibleFunction(a)}return a}},{key:"setFavouriteState",value:function setFavouriteState(a){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:!0;throw new Error("TODO: Implement setting favourite state for ".concat(a," to ").concat(b))}},{key:"getModal",value:function getModal(){return(0,b.create)({body:this.chooserBody(),footer:this.chooserFooter(),large:this.isDialogueLarge(),scrollable:this.isDialogueScrollable(),templateContext:this.getChooserTemplateContext(),title:this.getDialogueTitle(),type:b.types.DEFAULT})}},{key:"isDialogueLarge",value:function isDialogueLarge(){return!0}},{key:"isDialogueScrollable",value:function isDialogueScrollable(){return!1}},{key:"show",value:function(){var a=g(regeneratorRuntime.mark(function a(){var b;return regeneratorRuntime.wrap(function(a){while(1){switch(a.prev=a.next){case 0:b=this.getModal();b.show();case 2:case"end":return a.stop();}}},a,this)}));return function show(){return a.apply(this,arguments)}}()},{key:"hide",value:function(){var a=g(regeneratorRuntime.mark(function a(){var b;return regeneratorRuntime.wrap(function(a){while(1){switch(a.prev=a.next){case 0:a.next=2;return this.getModal();case 2:b=a.sent;b.hide();case 4:case"end":return a.stop();}}},a,this)}));return function hide(){return a.apply(this,arguments)}}()},{key:"chooserData",get:function get(){return{tabList:this.tabList}}},{key:"remoteData",get:function get(){return Promise.reject(new Error("TODO: Implement"))}},{key:"tabList",get:function get(){var a=this.data;return[this.getPopulatedTab(this.allItemsTab,a),this.getPopulatedTab(this.favouriteTab,a)]}},{key:"allItemsTab",get:function get(){return{name:"all",visible:!0}}},{key:"favouriteTab",get:function get(){return{name:"favourites",filterFunction:function filterFunction(a){return a.isFavourite},visibleFunction:function visibleFunction(a){return a.items.length}}}},{key:"enabledTabs",get:function get(){return this.getTabList()}},{key:"templateName",get:function get(){return"core/local/itemchooser/body"}},{key:"dialogueTitle",get:function get(){return Promise.reject(new Error("TODO: Implement the title fetcher"))}},{key:"chooserBody",get:function get(){return c.render("core_course/activitychooser",this.chooserData)}},{key:"chooserFooter",get:function get(){return Promise.resolve()}},{key:"chooserTemplateContext",get:function get(){return{}}},{key:"chooserConfig",get:function get(){return this.chooseConfig}}]);return a}();a.default=k;return a.default});
//# sourceMappingURL=itemchooser.min.js.map
