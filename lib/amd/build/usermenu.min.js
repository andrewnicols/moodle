define ("core/usermenu",["exports","jquery","core/key_codes"],function(_exports,_jquery,_key_codes){"use strict";Object.defineProperty(_exports,"__esModule",{value:!0});_exports.default=void 0;_jquery=function(obj){return obj&&obj.__esModule?obj:{default:obj}}(_jquery);var selectors={userMenu:".usermenu",userMenuCarousel:".usermenu #usermenu-carousel",userMenuCarouselItem:".usermenu #usermenu-carousel .carousel-item",userMenuCarouselItemActive:".usermenu #usermenu-carousel .carousel-item.active",userMenuCarouselNavigationLink:".usermenu #usermenu-carousel .carousel-navigation-link"},registerEventListeners=function(){var userMenu=document.querySelector(selectors.userMenu);(0,_jquery.default)(selectors.userMenu).on("shown.bs.dropdown",function(){var activeCarouselItem=document.querySelector(selectors.userMenuCarouselItemActive);activeCarouselItem.focus();userMenu.querySelectorAll(selectors.userMenuCarouselItem).forEach(function(element){if(!element.classList.contains("active")){element.style.width=activeCarouselItem.offsetWidth+"px";element.style.height=activeCarouselItem.offsetHeight+"px"}})});userMenu.addEventListener("click",function(e){if(e.target.matches(selectors.userMenuCarouselNavigationLink)){carouselManagement(e)}});userMenu.addEventListener("keydown",function(e){if((e.keyCode===_key_codes.space||e.keyCode===_key_codes.enter)&&e.target.matches(selectors.userMenuCarouselNavigationLink)){e.preventDefault();carouselManagement(e)}});var carouselManagement=function(e){e.stopPropagation();var targetedCarouselItemId=e.target.dataset.carouselTargetId,targetedCarouselItem=userMenu.querySelector("#"+targetedCarouselItemId),index=Array.from(targetedCarouselItem.parentNode.children).indexOf(targetedCarouselItem);(0,_jquery.default)(selectors.userMenuCarousel).carousel(index)};(0,_jquery.default)(selectors.userMenu).on("hide.bs.dropdown",function(){(0,_jquery.default)(selectors.userMenuCarousel).carousel(0)});(0,_jquery.default)(selectors.userMenuCarousel).on("slid.bs.carousel",function(){var activeCarouselItem=userMenu.querySelector(selectors.userMenuCarouselItemActive);activeCarouselItem.focus()})};_exports.default={init:function init(){registerEventListeners()}};return _exports.default});
//# sourceMappingURL=usermenu.min.js.map
