{"version":3,"sources":["../src/itemchooser.js"],"names":["eventName","itemEvents","eventTypes","stateUpdated","eventDispatch","notifyStateUpdated","name","constructor","setMutations","ItemMutations","callerElement","caller","tabName","items","length","tabConfig","Object","assign","titleComponent","filterFunction","visible","validateTabConfiguration","titleIdentifier","title","Error","_modal","_getModal","body","chooserBody","footer","chooserFooter","large","isDialogueLarge","scrollable","isDialogueScrollable","templateContext","getChooserTemplateContext","dialogueTitle","type","modalTypes","DEFAULT","then","modal","setupReactiveModal","Promise","all","getBodyPromise","chooserData","tabList","initialTab","setInitialState","map","item","id","tabData","data","TabSelector","element","querySelector","reactive","TabContainer","dispatch","querySelectorAll","forEach","Item","getModal","show","hide","_cachedData","reject","getPopulatedTab","recommendedTab","allItemsTab","favouriteTab","isRecommended","favourite","Templates","render","resolve","cachedData","orderedTabList","itemData","visibilityFunction","getTabVisibilityFunction","filteredItems","concat","filter","some","isActive","find","orderedList","tabOrder","value","Reactive"],"mappings":"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","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * A type of dialogue used as for choosing modules in a course.\n *\n * @module     core_course/activitychooser\n * @copyright  2021 Andrew Lyons <andrew@nicols.co.uk>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\nimport {\n    create as createModal,\n    types as modalTypes,\n} from 'core/modal_factory';\nimport * as Templates from 'core/templates';\nimport {get_string as getString} from 'core/str';\nimport {prefetchStrings} from 'core/prefetch';\n\nimport Item from './local/itemchooser/item';\nimport TabContainer from './local/itemchooser/tabcontainer';\nimport TabSelector from './local/itemchooser/tabselector';\nimport ItemMutations from './local/itemchooser/mutations';\nimport {Reactive} from 'core/reactive';\nimport * as itemEvents from './local/itemchooser/events';\n\n// Prefetch the strings.\nprefetchStrings('core', [\n    'all',\n    'favourite',\n    'recommended',\n]);\n\n/**\n * @typedef tabConfig\n * @property {string} name\n * @property {function} [filterFunction]\n * @property {bool} [visible=false]\n */\n\nexport default class extends Reactive {\n    constructor() {\n        super({\n            eventName: itemEvents.eventTypes.stateUpdated,\n            eventDispatch: itemEvents.notifyStateUpdated,\n        });\n\n        this.name = this.constructor.name;\n\n        this.setMutations(new ItemMutations());\n    }\n\n    /**\n     * @property {string} The name of the itemchooser type.\n     */\n    static name = 'itemchooser';\n\n    /**\n     * Store a reference to the element that opened the item chooser.\n     *\n     * @param {HTMLElement} callerElement\n     */\n    setCaller(callerElement) {\n        this.caller = callerElement;\n    }\n\n    /**\n     * Fetch the cached data.\n     *\n     * @returns {Promise<object>}\n     */\n    get cachedData() {\n        if (!this._cachedData) {\n            this._cachedData = this.data;\n        }\n\n        return this._cachedData;\n    }\n\n    /**\n     * Fetch the data to display.\n     *\n     * @returns {Promise<object>}\n     */\n    get data() {\n        return Promise.reject(new Error(`TODO: Implement`));\n    }\n\n    /**\n     * Get the tab order.\n     *\n     * @returns {string[]}\n     */\n    get tabOrder() {\n        // Favourites, All.\n        return [\n            'recommendedTab',\n            'favouriteTab',\n            'allItemsTab',\n        ];\n    }\n\n    /**\n     * Get an ordered list of tabs for this chooser.\n     *\n     * To be extended by the child class.\n     *\n     * @returns {Promise<tabConfig[]>}\n     */\n    get tabList() {\n        return Promise.all([\n            this.getPopulatedTab(this.recommendedTab),\n            this.getPopulatedTab(this.allItemsTab),\n            this.getPopulatedTab(this.favouriteTab,),\n        ]).then(([recommendedTab, allItemsTab, favouriteTab]) => {\n            return {\n                recommendedTab,\n                allItemsTab,\n                favouriteTab,\n            };\n        });\n    }\n\n    /**\n     * Get the tab visibility controller function for the named tab.\n     *\n     * @param {string} tabName\n     * @return {function|null}\n     */\n    getTabVisibilityFunction(tabName) {\n        switch (tabName) {\n            case 'favourites':\n            case 'recommended':\n                return ({items}) => !!items.length;\n            default:\n                return null;\n        }\n    }\n\n    /**\n     * Get the data for the recommended items tab.\n     *\n     * @returns {tabConfig}\n     */\n    get recommendedTab() {\n        return {\n            name: 'recommended',\n            filterFunction: item => item.isRecommended,\n            titleIdentifier: 'recommended',\n        };\n    }\n\n    /**\n     * Get the data for the all items tab.\n     *\n     * @returns {tabConfig}\n     */\n    get allItemsTab() {\n        return {\n            name: 'all',\n            visible: true,\n            titleIdentifier: 'all',\n        };\n    }\n\n    /**\n     * Get the data for the favourite items tab.\n     *\n     * @returns {tabConfig}\n     */\n    get favouriteTab() {\n        return {\n            name: 'favourites',\n            filterFunction: item => item.favourite,\n            titleIdentifier: 'favourites',\n        };\n    }\n\n    /**\n     * Get the populated tab data for the given configuration.\n     *\n     * @param {tabConfig} tabConfig\n     * @returns {Promise<tabConfig>}\n     */\n    async getPopulatedTab(tabConfig) {\n        tabConfig = Object.assign({\n            titleComponent: 'core',\n            filterFunction: null,\n            visible: false,\n        }, tabConfig);\n\n        this.validateTabConfiguration(tabConfig);\n\n        tabConfig.title = await getString(tabConfig.titleIdentifier, tabConfig.titleComponent);\n\n        return tabConfig;\n    }\n\n    /**\n     * Validate the tab configuration to check for required values.\n     *\n     * @param {tabConfig} tabConfig\n     * @throws {Error}\n     */\n    validateTabConfiguration(tabConfig) {\n        if (!tabConfig.name) {\n            throw new Error(`Missing name for tab`, tabConfig);\n        }\n\n        if (!tabConfig.titleIdentifier || !tabConfig.titleComponent) {\n            throw new Error(`Missing title details for ${tabConfig.name}`);\n        }\n    }\n\n    /**\n     * Get the template to use for the body.\n     *\n     * @returns {string} The template name\n     */\n    get templateName() {\n        return 'core/local/itemchooser/body';\n    }\n\n    /**\n     * Get the modal.\n     *\n     * @returns {Promise}\n     */\n    getModal() {\n        if (!this._modal) {\n            this._modal = this._getModal();\n        }\n\n        return this._modal;\n    }\n\n    _getModal() {\n        return createModal({\n            body: this.chooserBody,\n            footer: this.chooserFooter,\n            large: this.isDialogueLarge,\n            scrollable: this.isDialogueScrollable,\n            templateContext: this.getChooserTemplateContext,\n            title: this.dialogueTitle,\n            type: modalTypes.DEFAULT,\n        })\n        .then(modal => this.setupReactiveModal(modal));\n    }\n\n    setupReactiveModal(modal) {\n        return Promise.all([\n            modal,\n            modal.getBodyPromise(),\n            this.chooserData,\n        ])\n        .then(([modal, body, {items, tabList, initialTab}]) => {\n            this.setInitialState({\n                items: items.map(item => {\n                    return {\n                        ...item,\n                        id: item.name,\n                    };\n                }),\n                tabData: tabList.map(data => {\n                    return {\n                        ...data,\n                        id: data.name,\n                    };\n                })\n            });\n\n            new TabSelector({\n                element: body[0].querySelector('[role=\"tablist\"]'),\n                reactive: this,\n            });\n\n            // Set up the tab container, which contains the list of items.\n            new TabContainer({\n                element: body[0].querySelector('.tab-content'),\n                reactive: this,\n            });\n\n            // Set the name of the initial tab.\n            this.dispatch('selectTab', initialTab.name);\n\n            body[0].querySelectorAll('[role=\"menuitem\"]').forEach(element => new Item({element}));\n\n            return modal;\n        });\n    }\n\n    /**\n     * Get the title for the item chooser dialogue.\n     *\n     * @returns {Promise<string>}\n     */\n    get dialogueTitle() {\n        return Promise.reject(new Error(`TODO: Implement the title fetcher`));\n    }\n\n    /**\n     * Get the Chooser body.\n     *\n     * @returns {Promise<string>}\n     */\n    get chooserBody() {\n        return this.chooserData.then(chooserData => Templates.render(\n            'core/itemchooser',\n            chooserData\n        ));\n    }\n\n    /**\n     * Get the Chooser footer.\n     *\n     * @returns {Promise<string>}\n     */\n    get chooserFooter() {\n        return Promise.resolve();\n    }\n\n    /**\n     * Whether to make the dialogue large.\n     *\n     * @returns {boolean}\n     */\n    isDialogueLarge() {\n        return true;\n    }\n\n    /**\n     * Whether to make the dialogue scrollable.\n     *\n     * @returns {boolean}\n     */\n    isDialogueScrollable() {\n        return false;\n    }\n\n    /**\n     * Get any context data for the dialogue.\n     *\n     * @returns {object}\n     */\n    get chooserTemplateContext() {\n        return {};\n    }\n\n    /**\n     * Format the data for the item chooser.\n     *\n     * @returns {object}\n     */\n    get chooserData() {\n        return Promise.all([this.cachedData, this.orderedTabList])\n        .then(([itemData, tabList]) => {\n            // Set initial tab visibility state.\n            tabList = tabList.map(tabConfig => {\n                const visibilityFunction = this.getTabVisibilityFunction(tabConfig.name);\n                if (!visibilityFunction) {\n                    return tabConfig;\n                }\n\n                let filteredItems = itemData.concat();\n                if (tabConfig.filterFunction) {\n                    filteredItems = filteredItems.filter(itemData => {\n                        if (tabConfig.filterFunction) {\n                            return tabConfig.filterFunction(itemData);\n                        }\n\n                        return true;\n                    });\n                }\n\n                let visible = tabConfig.visible;\n                if (visibilityFunction) {\n                    visible = visibilityFunction({\n                        tabConfig,\n                        items: filteredItems,\n                    });\n                }\n\n                return Object.assign({}, tabConfig, {\n                    visible,\n                });\n            });\n\n\n            // Set initial tab configuration.\n            if (!tabList.some(tabData => tabData.isActive && tabData.visible)) {\n                tabList.find(tabData => tabData.visible).isActive = true;\n            }\n\n            // Unset the isActive so that it will be changed by the reactive component.\n            const initialTab = tabList.find(tabData => tabData.isActive);\n            initialTab.isActive = false;\n\n            return {\n                items: itemData,\n                tabList,\n                initialTab,\n            };\n        });\n    }\n\n    /**\n     * Get the tabs, in their ordered list.\n     *\n     * @returns {Promise}\n     */\n    get orderedTabList() {\n        return this.tabList.then(tabList => {\n            const orderedList = this.tabOrder.map(tabName => {\n                return tabList[tabName] ?? false;\n            }).filter(value => value);\n\n            return orderedList;\n        });\n    }\n\n    /**\n     * Display the modal.\n     */\n    async show() {\n        const modal = await this.getModal();\n        modal.show();\n    }\n\n    /**\n     * Hide the modal.\n     */\n    async hide() {\n        const modal = await this.getModal();\n        modal.hide();\n    }\n}\n"],"file":"itemchooser.min.js"}