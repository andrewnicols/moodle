define ("block_timeline/view_dates",["jquery","block_timeline/event_list","core/pubsub","core/paged_content_events"],function($,EventList,PubSub,PagedContentEvents){var SELECTORS={EVENT_LIST_CONTAINER:"[data-region=\"event-list-container\"]",NO_COURSES_EMPTY_MESSAGE:"[data-region=\"no-courses-empty-message\"]"},registerEventListeners=function(root,namespace){var event=namespace+PagedContentEvents.SET_ITEMS_PER_PAGE_LIMIT;PubSub.subscribe(event,function(limit){$(root).data("limit",limit)})},load=function(root){if(!root.find(SELECTORS.NO_COURSES_EMPTY_MESSAGE).length){var eventListContainer=root.find(SELECTORS.EVENT_LIST_CONTAINER),namespace=$(eventListContainer).attr("id")+"user_block_timeline"+Math.random();registerEventListeners(root,namespace);EventList.init(eventListContainer,{persistentLimitKey:"block_timeline_user_limit_preference",eventNamespace:namespace})}};return{init:function init(root){root=$(root);if(root.hasClass("active")&&!root.find(SELECTORS.NO_COURSES_EMPTY_MESSAGE).length){load(root);root.attr("data-seen",!0)}},reset:function reset(root){root.removeAttr("data-seen");if(root.hasClass("active")){load(root);root.attr("data-seen",!0)}},shown:function shown(root){if(!root.attr("data-seen")){load(root);root.attr("data-seen",!0)}}}});
//# sourceMappingURL=view_dates.min.js.map
