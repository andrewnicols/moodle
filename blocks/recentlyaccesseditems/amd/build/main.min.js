define ("block_recentlyaccesseditems/main",["jquery","block_recentlyaccesseditems/repository","core/templates","core/notification"],function($,Repository,Templates,Notification){var SELECTORS={CARDDECK_CONTAINER:"[data-region=\"recentlyaccesseditems-view\"]",CARDDECK:"[data-region=\"recentlyaccesseditems-view-content\"]"},getRecentItems=function(limit){return Repository.getRecentItems(limit)},renderItems=function(root,items){if(0<items.length){return Templates.render("block_recentlyaccesseditems/view-cards",{items:items})}else{var noitemsimgurl=root.attr("data-noitemsimgurl");return Templates.render("block_recentlyaccesseditems/no-items",{noitemsimgurl:noitemsimgurl})}};return{init:function(root){root=$(root);var itemsContainer=root.find(SELECTORS.CARDDECK_CONTAINER),itemsContent=root.find(SELECTORS.CARDDECK),itemsPromise=getRecentItems(9);itemsPromise.then(function(items){var pageContentPromise=renderItems(itemsContainer,items);pageContentPromise.then(function(html,js){return Templates.replaceNodeContents(itemsContent,html,js)}).catch(Notification.exception);return itemsPromise}).catch(Notification.exception)}}});
//# sourceMappingURL=main.min.js.map
