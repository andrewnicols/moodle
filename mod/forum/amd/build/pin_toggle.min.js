define ("mod_forum/pin_toggle",["jquery","core/ajax","core/str","core/templates","core/notification","mod_forum/repository","mod_forum/selectors","core/str"],function($,Ajax,Str,Templates,Notification,Repository,Selectors,String){return{init:function registerEventListeners(root,preventDefault,callback){root.on("click",Selectors.pin.toggle,function(e){var toggleElement=$(this),forumid=toggleElement.data("forumid"),discussionid=toggleElement.data("discussionid"),pinstate=toggleElement.data("targetstate");Repository.setPinDiscussionState(forumid,discussionid,pinstate).then(function(context){return callback(toggleElement,context)}).then(function(){return String.get_string("pinupdated","forum").done(function(s){return Notification.addNotification({message:s,type:"info"})})}).fail(Notification.exception);if(preventDefault){e.preventDefault()}})}}});
//# sourceMappingURL=pin_toggle.min.js.map
