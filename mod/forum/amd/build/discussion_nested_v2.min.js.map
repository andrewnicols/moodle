{"version":3,"file":"discussion_nested_v2.min.js","sources":["../src/discussion_nested_v2.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Module for viewing a discussion in nested v2 view.\n *\n * @copyright  2019 Ryan Wyllie <ryan@moodle.com>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\nimport $ from 'jquery';\nimport AutoRows from 'core/auto_rows';\nimport CustomEvents from 'core/custom_interaction_events';\nimport Notification from 'core/notification';\nimport Templates from 'core/templates';\nimport Discussion from 'mod_forum/discussion';\nimport InPageReply from 'mod_forum/inpage_reply';\nimport LockToggle from 'mod_forum/lock_toggle';\nimport FavouriteToggle from 'mod_forum/favourite_toggle';\nimport Pin from 'mod_forum/pin_toggle';\nimport Selectors from 'mod_forum/selectors';\nimport Subscribe from 'mod_forum/subscription_toggle';\n\nconst ANIMATION_DURATION = 150;\n\n/**\n * Get the closest post container element from the given element.\n *\n * @param {Object} element jQuery element to search from\n * @return {Object} jQuery element\n */\nconst getPostContainer = (element) => {\n    return element.closest(Selectors.post.post);\n};\n\n/**\n * Get the closest post container element from the given element.\n *\n * @param {Object} element jQuery element to search from\n * @param {Number} id Id of the post to find.\n * @return {Object} jQuery element\n */\nconst getPostContainerById = (element, id) => {\n    return element.find(`${Selectors.post.post}[data-post-id=${id}]`);\n};\n\n/**\n * Get the parent post container elements from the given element.\n *\n * @param {Object} element jQuery element to search from\n * @return {Object} jQuery element\n */\nconst getParentPostContainers = (element) => {\n    return element.parents(Selectors.post.post);\n};\n\n/**\n * Get the post content container element from the post container element.\n *\n * @param {Object} postContainer jQuery element for the post container\n * @return {Object} jQuery element\n */\nconst getPostContentContainer = (postContainer) => {\n    return postContainer.children().not(Selectors.post.repliesContainer).find(Selectors.post.forumCoreContent);\n};\n\n/**\n * Get the in page reply container element from the post container element.\n *\n * @param {Object} postContainer jQuery element for the post container\n * @return {Object} jQuery element\n */\nconst getInPageReplyContainer = (postContainer) => {\n    return postContainer.children().filter(Selectors.post.inpageReplyContainer);\n};\n\n/**\n * Get the in page reply form element from the post container element.\n *\n * @param {Object} postContainer jQuery element for the post container\n * @return {Object} jQuery element\n */\nconst getInPageReplyForm = (postContainer) => {\n    return getInPageReplyContainer(postContainer).find(Selectors.post.inpageReplyContent);\n};\n\n/**\n * Get the in page reply create (reply) button element from the post container element.\n *\n * @param {Object} postContainer jQuery element for the post container\n * @return {Object} jQuery element\n */\nconst getInPageReplyCreateButton = (postContainer) => {\n    return getPostContentContainer(postContainer).find(Selectors.post.inpageReplyCreateButton);\n};\n\n/**\n * Get the replies visibility toggle container (show/hide replies button container) element\n * from the post container element.\n *\n * @param {Object} postContainer jQuery element for the post container\n * @return {Object} jQuery element\n */\nconst getRepliesVisibilityToggleContainer = (postContainer) => {\n    return postContainer.children(Selectors.post.repliesVisibilityToggleContainer);\n};\n\n/**\n * Get the replies container element from the post container element.\n *\n * @param {Object} postContainer jQuery element for the post container\n * @return {Object} jQuery element\n */\nconst getRepliesContainer = (postContainer) => {\n    return postContainer.children(Selectors.post.repliesContainer);\n};\n\n/**\n * Check if the post has any replies.\n *\n * @param {Object} postContainer jQuery element for the post container\n * @return {Bool}\n */\nconst hasReplies = (postContainer) => {\n    return getRepliesContainer(postContainer).children().length > 0;\n};\n\n/**\n * Get the show replies button element from the replies visibility toggle container element.\n *\n * @param {Object} replyVisibilityToggleContainer jQuery element for the toggle container\n * @return {Object} jQuery element\n */\nconst getShowRepliesButton = (replyVisibilityToggleContainer) => {\n    return replyVisibilityToggleContainer.find(Selectors.post.showReplies);\n};\n\n/**\n * Get the hide replies button element from the replies visibility toggle container element.\n *\n * @param {Object} replyVisibilityToggleContainer jQuery element for the toggle container\n * @return {Object} jQuery element\n */\nconst getHideRepliesButton = (replyVisibilityToggleContainer) => {\n    return replyVisibilityToggleContainer.find(Selectors.post.hideReplies);\n};\n\n/**\n * Check if the replies are visible.\n *\n * @param {Object} postContainer jQuery element for the post container\n * @return {Bool}\n */\nconst repliesVisible = (postContainer) => {\n    const repliesContainer = getRepliesContainer(postContainer);\n    return repliesContainer.is(':visible');\n};\n\n/**\n * Show the post replies.\n *\n * @param {Object} postContainer jQuery element for the post container\n * @param {Number|null} postIdToSee Id of the post to scroll into view (if any)\n */\nconst showReplies = (postContainer, postIdToSee = null) => {\n    const repliesContainer = getRepliesContainer(postContainer);\n    const replyVisibilityToggleContainer = getRepliesVisibilityToggleContainer(postContainer);\n    const showButton = getShowRepliesButton(replyVisibilityToggleContainer);\n    const hideButton = getHideRepliesButton(replyVisibilityToggleContainer);\n\n    showButton.addClass('hidden');\n    hideButton.removeClass('hidden');\n\n    repliesContainer.slideDown({\n        duration: ANIMATION_DURATION,\n        queue: false,\n        complete: () => {\n            if (postIdToSee) {\n                const postContainerToSee = getPostContainerById(repliesContainer, postIdToSee);\n                if (postContainerToSee.length) {\n                    postContainerToSee[0].scrollIntoView();\n                }\n            }\n        }\n    }).css('display', 'none').fadeIn(ANIMATION_DURATION);\n};\n\n/**\n * Hide the post replies.\n *\n * @param {Object} postContainer jQuery element for the post container\n */\nconst hideReplies = (postContainer) => {\n    const repliesContainer = getRepliesContainer(postContainer);\n    const replyVisibilityToggleContainer = getRepliesVisibilityToggleContainer(postContainer);\n    const showButton = getShowRepliesButton(replyVisibilityToggleContainer);\n    const hideButton = getHideRepliesButton(replyVisibilityToggleContainer);\n\n    showButton.removeClass('hidden');\n    hideButton.addClass('hidden');\n\n    repliesContainer.slideUp({\n        duration: ANIMATION_DURATION,\n        queue: false\n    }).fadeOut(ANIMATION_DURATION);\n};\n\n/** Variable to hold the showInPageReplyForm function after it's built. */\nlet showInPageReplyForm = null;\n\n/**\n * Build the showInPageReplyForm function with the given additional template context.\n *\n * @param {Object} additionalTemplateContext Additional render context for the in page reply template.\n * @return {Function}\n */\nconst buildShowInPageReplyFormFunction = (additionalTemplateContext) => {\n    /**\n     * Show the in page reply form in the given in page reply container. The form\n     * display will be animated.\n     *\n     * @param {Object} postContainer jQuery element for the post container\n     */\n    return async (postContainer) => {\n\n        const inPageReplyContainer = getInPageReplyContainer(postContainer);\n        const repliesVisibilityToggleContainer = getRepliesVisibilityToggleContainer(postContainer);\n        const inPageReplyCreateButton = getInPageReplyCreateButton(postContainer);\n\n        if (!hasInPageReplyForm(inPageReplyContainer)) {\n            try {\n                const html = await renderInPageReplyTemplate(additionalTemplateContext, inPageReplyCreateButton, postContainer);\n                Templates.appendNodeContents(inPageReplyContainer, html, '');\n            } catch (e) {\n                Notification.exception(e);\n            }\n\n            // Load formchangechecker module.\n            import('core/yui')\n                .then(Y => {\n                    return new Promise(resolve => {\n                        Y.use('moodle-core-formchangechecker', Y => {\n                            resolve(Y);\n                        });\n                    });\n                })\n                .then(Y => {\n                    M.core_formchangechecker.init({formid: Y.one(postContainer[0].querySelector('form')).generateID()});\n                    return Y;\n                })\n                .catch();\n        }\n\n        inPageReplyCreateButton.fadeOut(ANIMATION_DURATION, () => {\n            const inPageReplyForm = getInPageReplyForm(postContainer);\n            inPageReplyForm.slideDown({\n                duration: ANIMATION_DURATION,\n                queue: false,\n                complete: () => {\n                    inPageReplyForm.find('textarea').focus();\n                }\n            }).css('display', 'none').fadeIn(ANIMATION_DURATION);\n\n            if (repliesVisibilityToggleContainer.length && hasReplies(postContainer)) {\n                repliesVisibilityToggleContainer.fadeIn(ANIMATION_DURATION);\n                hideReplies(postContainer);\n            }\n        });\n    };\n};\n\n/**\n * Hide the in page reply form in the given in page reply container. The form\n * display will be animated.\n *\n * @param {Object} postContainer jQuery element for the post container\n * @param {Number|null} postIdToSee Id of the post to scroll into view (if any)\n */\nconst hideInPageReplyForm = (postContainer, postIdToSee = null) => {\n    const inPageReplyForm = getInPageReplyForm(postContainer);\n    const inPageReplyCreateButton = getInPageReplyCreateButton(postContainer);\n    const repliesVisibilityToggleContainer = getRepliesVisibilityToggleContainer(postContainer);\n\n    if (repliesVisibilityToggleContainer.length && hasReplies(postContainer)) {\n        repliesVisibilityToggleContainer.fadeOut(ANIMATION_DURATION);\n        if (!repliesVisible(postContainer)) {\n            showReplies(postContainer, postIdToSee);\n        }\n    }\n\n    inPageReplyForm.slideUp({\n        duration: ANIMATION_DURATION,\n        queue: false,\n        complete: () => {\n            inPageReplyCreateButton.fadeIn(ANIMATION_DURATION);\n        }\n    }).fadeOut(200);\n};\n\n/**\n * Check if the in page reply container contains the in page reply form.\n *\n * @param {Object} inPageReplyContainer jQuery element for the in page reply container\n * @return {Bool}\n */\nconst hasInPageReplyForm = (inPageReplyContainer) => {\n    return inPageReplyContainer.find(Selectors.post.inpageReplyContent).length > 0;\n};\n\n/**\n * Render the template to generate the in page reply form HTML.\n *\n * @param {Object} additionalTemplateContext Additional render context for the in page reply template\n * @param {Object} button jQuery element for the reply button that was clicked\n * @param {Object} postContainer jQuery element for the post container\n * @return {Object} jQuery promise\n */\nconst renderInPageReplyTemplate = (additionalTemplateContext, button, postContainer) => {\n    const postContentContainer = getPostContentContainer(postContainer);\n    const currentSubject = postContentContainer.find(Selectors.post.forumSubject).text();\n    const currentAuthorName = postContentContainer.find(Selectors.post.authorName).text();\n    const context = {\n        postid: postContainer.data('post-id'),\n        \"reply_url\": button.attr('data-href'),\n        sesskey: M.cfg.sesskey,\n        parentsubject: currentSubject,\n        parentauthorname: currentAuthorName,\n        canreplyprivately: button.data('can-reply-privately'),\n        postformat: InPageReply.CONTENT_FORMATS.MOODLE,\n        ...additionalTemplateContext\n    };\n\n    return Templates.render('mod_forum/inpage_reply_v2', context);\n};\n\n/**\n * Increment the total reply count in the show/hide replies buttons for the post.\n *\n * @param {Object} postContainer jQuery element for the post container\n */\nconst incrementTotalReplyCount = (postContainer) => {\n    getRepliesVisibilityToggleContainer(postContainer).find(Selectors.post.replyCount).each((index, element) => {\n        const currentCount = parseInt(element.innerText, 10);\n        element.innerText = currentCount + 1;\n    });\n};\n\n/**\n * Create all of the event listeners for the discussion.\n *\n * @param {Object} root jQuery element for the discussion container\n */\nconst registerEventListeners = (root) => {\n    CustomEvents.define(root, [CustomEvents.events.activate]);\n    // Auto expanding text area for in page reply.\n    AutoRows.init(root);\n\n    // Reply button is clicked.\n    root.on(CustomEvents.events.activate, Selectors.post.inpageReplyCreateButton, (e, data) => {\n        data.originalEvent.preventDefault();\n        const postContainer = getPostContainer($(e.currentTarget));\n        showInPageReplyForm(postContainer);\n    });\n\n    // Cancel in page reply button.\n    root.on(CustomEvents.events.activate, Selectors.post.inpageReplyCancelButton, (e, data) => {\n        data.originalEvent.preventDefault();\n        const postContainer = getPostContainer($(e.currentTarget));\n        hideInPageReplyForm(postContainer);\n    });\n\n    // Show replies button clicked.\n    root.on(CustomEvents.events.activate, Selectors.post.showReplies, (e, data) => {\n        data.originalEvent.preventDefault();\n        const postContainer = getPostContainer($(e.target));\n        showReplies(postContainer);\n    });\n\n    // Hide replies button clicked.\n    root.on(CustomEvents.events.activate, Selectors.post.hideReplies, (e, data) => {\n        data.originalEvent.preventDefault();\n        const postContainer = getPostContainer($(e.target));\n        hideReplies(postContainer);\n    });\n\n    // Post created with in page reply.\n    root.on(InPageReply.EVENTS.POST_CREATED, Selectors.post.inpageSubmitBtn, (e, newPostId) => {\n        const currentTarget = $(e.currentTarget);\n        const postContainer = getPostContainer(currentTarget);\n        const postContainers = getParentPostContainers(currentTarget);\n        hideInPageReplyForm(postContainer, newPostId);\n\n        postContainers.each((index, container) => {\n            incrementTotalReplyCount($(container));\n        });\n    });\n};\n\n/**\n * Initialise the javascript for the discussion in nested v2 display mode.\n *\n * @param {Object} root jQuery element for the discussion container\n * @param {Object} context Additional render context for the in page reply template\n */\nexport const init = (root, context) => {\n    // Build the showInPageReplyForm function with the additional render context.\n    showInPageReplyForm = buildShowInPageReplyFormFunction(context);\n    // Add discussion event listeners.\n    registerEventListeners(root);\n    // Initialise default discussion javascript (keyboard nav etc).\n    Discussion.init(root);\n    // Add in page reply javascript.\n    InPageReply.init(root);\n\n    // Initialise the settings menu javascript.\n    const discussionToolsContainer = root.find(Selectors.discussion.tools);\n    LockToggle.init(discussionToolsContainer, false);\n    FavouriteToggle.init(discussionToolsContainer, false, (toggleElement, response) => {\n        const newTargetState = response.userstate.favourited ? 0 : 1;\n        return toggleElement.data('targetstate', newTargetState);\n    });\n    Pin.init(discussionToolsContainer, false, (toggleElement, response) => {\n        const newTargetState = response.pinned ? 0 : 1;\n        return toggleElement.data('targetstate', newTargetState);\n    });\n    Subscribe.init(discussionToolsContainer, false, (toggleElement, response) => {\n        const newTargetState = response.userstate.subscribed ? 0 : 1;\n        toggleElement.data('targetstate', newTargetState);\n    });\n};\n"],"names":["_jquery","_interopRequireDefault","_auto_rows","_custom_interaction_events","_notification","_templates","_discussion","_inpage_reply","_lock_toggle","_favourite_toggle","_pin_toggle","_selectors","_subscription_toggle","_systemImportTransformerGlobalIdentifier","window","self","global","obj","__esModule","default","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_defineProperty","key","value","arg","input","hint","_typeof","prim","Symbol","toPrimitive","undefined","res","call","TypeError","String","Number","_toPrimitive","_toPropertyKey","defineProperty","configurable","writable","_regeneratorRuntime","exports","Op","prototype","hasOwn","hasOwnProperty","desc","$Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","err","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","create","context","Context","makeInvokeMethod","tryCatch","fn","type","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","this","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","method","_invoke","AsyncIterator","PromiseImpl","invoke","resolve","reject","record","result","__await","then","unwrapped","error","previousPromise","callInvokeWithMethodAndArg","state","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","done","methodName","return","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","length","i","displayName","isGeneratorFunction","genFun","ctor","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","iter","val","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","catch","thrown","delegateYield","asyncGeneratorStep","gen","_next","_throw","ANIMATION_DURATION","getPostContainer","element","closest","Selectors","post","getPostContainerById","id","find","concat","getPostContentContainer","postContainer","children","not","repliesContainer","forumCoreContent","getInPageReplyContainer","inpageReplyContainer","getInPageReplyForm","inpageReplyContent","getInPageReplyCreateButton","inpageReplyCreateButton","getRepliesVisibilityToggleContainer","repliesVisibilityToggleContainer","getRepliesContainer","hasReplies","getShowRepliesButton","replyVisibilityToggleContainer","showReplies","getHideRepliesButton","hideReplies","repliesVisible","is","postIdToSee","arguments","showButton","hideButton","addClass","removeClass","slideDown","duration","queue","postContainerToSee","scrollIntoView","css","fadeIn","slideUp","fadeOut","showInPageReplyForm","buildShowInPageReplyFormFunction","additionalTemplateContext","_callee","inPageReplyContainer","inPageReplyCreateButton","html","_context","hasInPageReplyForm","renderInPageReplyTemplate","Templates","appendNodeContents","t0","Notification","amd","require","module","component","loader","Y","use","M","core_formchangechecker","init","formid","one","querySelector","generateID","inPageReplyForm","focus","_ref","args","_x","hideInPageReplyForm","button","postContentContainer","currentSubject","forumSubject","text","currentAuthorName","authorName","target","source","getOwnPropertyDescriptors","defineProperties","_objectSpread","postid","data","reply_url","attr","sesskey","cfg","parentsubject","parentauthorname","canreplyprivately","postformat","InPageReply","CONTENT_FORMATS","MOODLE","render","registerEventListeners","root","CustomEvents","events","activate","AutoRows","on","e","originalEvent","preventDefault","$","currentTarget","inpageReplyCancelButton","EVENTS","POST_CREATED","inpageSubmitBtn","newPostId","postContainers","parents","each","index","container","replyCount","currentCount","parseInt","innerText","incrementTotalReplyCount","_exports","Discussion","discussionToolsContainer","discussion","tools","LockToggle","FavouriteToggle","toggleElement","response","newTargetState","userstate","favourited","Pin","pinned","Subscribe","subscribed"],"mappings":"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"}