define ("mod_quiz/preflightcheck",["jquery","core/yui","core_form/changechecker"],function($,Y,FormChangeChecker){var t={confirmDialogue:null,init:function(startButton,confirmationTitle,confirmationForm,popupoptions){var finalStartButton=startButton;Y.use("moodle-core-notification",function(){if(Y.one(confirmationForm)){t.confirmDialogue=new M.core.dialogue({headerContent:confirmationTitle,bodyContent:Y.one(confirmationForm),draggable:!0,visible:!1,center:!0,modal:!0,width:null,extraClasses:["mod_quiz_preflight_popup"]});Y.one(startButton).on("click",t.displayDialogue);Y.one("#id_cancel").on("click",t.hideDialogue);finalStartButton=t.confirmDialogue.get("boundingBox").one("[name=\"submitbutton\"]")}if(popupoptions){Y.one(finalStartButton).on("click",t.launchQuizPopup,t,popupoptions)}})},displayDialogue:function(e){if(e){e.halt()}t.confirmDialogue.show()},hideDialogue:function(e){if(e){e.halt()}t.confirmDialogue.hide(e)},launchQuizPopup:function(e,popupoptions){e.halt();Y.use("io-form",function(){var form=e.target.ancestor("form");FormChangeChecker.resetFormDirtyState(form.getDOMNode());window.openpopup(e,{url:form.get("action")+"?"+Y.IO.stringify(form).replace(/\bcancel=/,"x="),windowname:"quizpopup",options:popupoptions,fullscreen:!0})})}};return t});
//# sourceMappingURL=preflightcheck.min.js.map
